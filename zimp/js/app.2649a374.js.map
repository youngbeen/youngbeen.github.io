{"version":3,"file":"js/app.2649a374.js","mappings":"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C,KAAM,KACNC,M,89QACAiB,KAAM,SACNC,OAAQ,EACRd,MAAO,EACPD,KAAM,SACNgB,QAAS,IAEX,CACErB,IAAK,OACLC,KAAM,MACNC,M,QACAiB,KAAM,OACNC,OAAQ,EACRd,MAAO,EACPD,KAAM,SACNgB,QAAS,GAEX,CACErB,IAAK,SACLC,KAAM,KACNC,M,QACAiB,KAAM,OACNC,OAAQ,EACRd,MAAO,EACPD,KAAM,wBACNgB,QAAS,GAEX,CACErB,IAAK,UACLC,KAAM,KACNC,M,QACAiB,KAAM,OACNC,OAAQ,EACRd,MAAO,EACPD,KAAM,cACNgB,QAAS,KC/Gf,GACEC,aAAc,EACdC,OAAQ,CACN,CACEC,WAAY,CACV,CACExB,IAAK,MACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,aAER,CACEL,IAAK,UACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,UAER,CACEL,IAAK,SACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,OAGVqB,KAAM,OAER,CACEF,WAAY,CACV,CACExB,IAAK,SACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,MAER,CACEL,IAAK,SACLyB,QAAS,EACTnB,OAAQ,EACRD,KAAM,gBAER,CACEL,IAAK,UACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,WAGVqB,KAAM,YAER,CACEF,WAAY,CACV,CACExB,IAAK,UACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,UAER,CACEL,IAAK,SACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,MAER,CACEL,IAAK,SACLyB,QAAS,EACTnB,OAAQ,EACRD,KAAM,cAGVqB,KAAM,SAER,CACEF,WAAY,CACV,CACExB,IAAK,SACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,MAER,CACEL,IAAK,SACLyB,QAAS,EACTnB,OAAQ,EACRD,KAAM,mBAER,CACEL,IAAK,SACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,OAGVqB,KAAM,WAER,CACEF,WAAY,CACV,CACExB,IAAK,UACLyB,QAAS,EACTnB,MAAO,EACPD,KAAM,UAER,CACEL,IAAK,SACL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","sources":["webpack://zimp-h5/webpack/runtime/chunk loaded","webpack://zimp-h5/./src/App.vue?c036","webpack://zimp-h5/src/App.vue","webpack://zimp-h5/./src/App.vue?0e40","webpack://zimp-h5/./src/App.vue","webpack://zimp-h5/./src/EventBus.js","webpack://zimp-h5/./src/models/config/System.js","webpack://zimp-h5/./src/models/config/Room.js","webpack://zimp-h5/./src/models/config/Player.js","webpack://zimp-h5/./src/models/config/Item.js","webpack://zimp-h5/./src/models/config/Event.js","webpack://zimp-h5/./src/models/system.js","webpack://zimp-h5/./src/models/Player.js","webpack://zimp-h5/./src/utils/CommonUtil.js","webpack://zimp-h5/./src/components/StartPop.vue","webpack://zimp-h5/src/components/StartPop.vue","webpack://zimp-h5/./src/components/StartPop.vue?e241","webpack://zimp-h5/./src/components/StartPop.vue?c374","webpack://zimp-h5/src/components/TopPanel.vue","webpack://zimp-h5/./src/components/TopPanel.vue?3de4","webpack://zimp-h5/./src/components/TopPanel.vue?2f77","webpack://zimp-h5/./src/components/TopPanel.vue","webpack://zimp-h5/src/components/MainContainer.vue","webpack://zimp-h5/./src/components/MainContainer.vue?defd","webpack://zimp-h5/./src/components/MainContainer.vue?a6b0","webpack://zimp-h5/./src/components/MainContainer.vue","webpack://zimp-h5/./src/ctrls/CommonCtrl.js","webpack://zimp-h5/src/components/ActionContainer.vue","webpack://zimp-h5/./src/components/ActionContainer.vue?e911","webpack://zimp-h5/./src/components/ActionContainer.vue?ba47","webpack://zimp-h5/./src/components/ActionContainer.vue","webpack://zimp-h5/./src/components/BottomPanel.vue?f79b","webpack://zimp-h5/src/components/BottomPanel.vue","webpack://zimp-h5/./src/components/BottomPanel.vue?2e75","webpack://zimp-h5/./src/components/BottomPanel.vue","webpack://zimp-h5/src/components/MessagePop.vue","webpack://zimp-h5/./src/components/MessagePop.vue?b4c9","webpack://zimp-h5/./src/components/MessagePop.vue?761d","webpack://zimp-h5/./src/components/MessagePop.vue","webpack://zimp-h5/./src/components/HappenBattle.vue?735b","webpack://zimp-h5/src/components/HappenBattle.vue","webpack://zimp-h5/./src/components/HappenBattle.vue?0f16","webpack://zimp-h5/./src/components/HappenBattle.vue","webpack://zimp-h5/src/components/MapPop.vue","webpack://zimp-h5/./src/components/MapPop.vue?6748","webpack://zimp-h5/./src/views/Home.vue?a787","webpack://zimp-h5/src/views/Home.vue","webpack://zimp-h5/./src/components/MapPop.vue?8326","webpack://zimp-h5/./src/components/MapPop.vue","webpack://zimp-h5/./src/views/Home.vue?8611","webpack://zimp-h5/./src/views/Home.vue","webpack://zimp-h5/./src/router.js","webpack://zimp-h5/./src/main.js","webpack://zimp-h5/webpack/bootstrap","webpack://zimp-h5/webpack/runtime/define property getters","webpack://zimp-h5/webpack/runtime/global","webpack://zimp-h5/webpack/runtime/hasOwnProperty shorthand","webpack://zimp-h5/webpack/runtime/make namespace object","webpack://zimp-h5/webpack/runtime/publicPath","webpack://zimp-h5/webpack/runtime/jsonp chunk loading","webpack://zimp-h5/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\n// import ToastMsg from '@youngbeen/angle-vue-component/ToastMsg.vue'\n\nexport default {\n  components: {\n    // ToastMsg\n  },\n  created () {\n    // eslint-disable-next-line no-undef\n    // window.$pageSpy = new PageSpy()\n  }\n}\n</script>\n\n<style lang=\"less\">\nhtml, body {\n  min-height: 100%;\n}\n#app {\n  position: relative;\n  // font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  // -webkit-font-smoothing: antialiased;\n  // -moz-osx-font-smoothing: grayscale;\n  // text-align: center;\n  // color: #2c3e50;\n}\n.primary-button {\n  height: 68px;\n  line-height: 68px;\n  padding: 0 12px;\n  color: #fff;\n  background: red;\n  border: none;\n  border-radius: 8px;\n  font-size: 28px;\n}\n.default-button {\n  height: 68px;\n  line-height: 68px;\n  padding: 0 12px;\n  color: #fff;\n  background: rgb(95, 95, 95);\n  border: none;\n  border-radius: 8px;\n  font-size: 28px;\n}\n.icon-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  height: 100px;\n  border-radius: 100%;\n  background: rgba(red, 0.8);\n  color: #fff;\n  .icon {\n    width: 50px;\n    height: 50px;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=021c84f4\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=021c84f4&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\n\n/* eslint-disable no-new */\nconst bus = new Vue()\nexport default bus\n","export default {\n  endTime: 3, // the ending time clock, 0/1/2/3 index => time clock 9/10/11/12\n  breakInCount: 3 // how many zombies break in\n}\n","// import defaultImage from '@/assets/place_image.jpg'\nimport foyer from '@/assets/foyer.jpg'\nimport bathroom from '@/assets/bathroom.jpg'\nimport kitchen from '@/assets/kitchen.jpg'\nimport storage from '@/assets/storage.jpg'\nimport evilTemple from '@/assets/evilTemple.jpg'\nimport familyRoom from '@/assets/familyRoom.jpg'\nimport diningRoom from '@/assets/diningRoom.jpg'\nimport bedroom from '@/assets/bedroom.jpg'\nimport patio from '@/assets/patio.jpg'\nimport garden from '@/assets/garden.jpg'\nimport sittingArea from '@/assets/sittingArea.jpg'\nimport yard1 from '@/assets/yard1.jpg'\nimport yard2 from '@/assets/yard2.jpg'\nimport yard3 from '@/assets/yard3.jpg'\nimport graveyard from '@/assets/graveyard.jpg'\nimport garage from '@/assets/garage.jpg'\n\nexport default {\n  indoors: [\n    {\n      key: 'foyer',\n      name: '',\n      image: foyer,\n      doors: [0], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'bathroom',\n      name: '',\n      image: bathroom,\n      doors: [0], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'kitchen',\n      name: '',\n      image: kitchen,\n      doors: [0, 1, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '1',\n      addHp: 1\n    },\n    {\n      key: 'storage',\n      name: '',\n      image: storage,\n      doors: [0], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '1',\n      addHp: 0\n    },\n    {\n      key: 'evilTemple',\n      name: '',\n      image: evilTemple,\n      doors: [1, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'familyRoom',\n      name: '',\n      image: familyRoom,\n      doors: [0, 1, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'diningRoom',\n      name: '',\n      image: diningRoom,\n      doors: [0, 1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [0], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'bedroom',\n      name: '',\n      image: bedroom,\n      doors: [0, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    }\n  ],\n  outdoors: [\n    {\n      key: 'patio',\n      name: '',\n      image: patio,\n      doors: [0, 1, 2], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'garden',\n      name: '',\n      image: garden,\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '1',\n      addHp: 1\n    },\n    {\n      key: 'sittingArea',\n      name: '',\n      image: sittingArea,\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'yard1',\n      name: '',\n      image: yard1,\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'yard2',\n      name: '',\n      image: yard2,\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'yard3',\n      name: '',\n      image: yard3,\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'graveyard',\n      name: '',\n      image: graveyard,\n      doors: [1, 2], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'garage',\n      name: '',\n      image: garage,\n      doors: [2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    }\n  ]\n}\n","export default {\n  baseAtk: 1, // the base ATK\n  baseHp: 6,\n  maxHp: Number.POSITIVE_INFINITY, // in original design, there's no upper limit of HP\n  maxDamage: 4, // the max damage received in one battle\n  runAwayDamage: 1, // the damage received when run away\n  maxItems: 2, // the max items can keep\n  backpackerExtraItems: 1, // backpacker can take extra items\n  sportgirlReduceDiscardEvents: 1 // sportgirl moves faster, thus time passes slowly, when shuffle events can reduce the discard event\n}\n","import oilIcon from '@/assets/oil.jpg'\nimport gasolineIcon from '@/assets/gasoline.jpg'\nimport boardIcon from '@/assets/board.jpg'\nimport boneIcon from '@/assets/bone.jpg'\nimport golfIcon from '@/assets/golf.jpg'\nimport chainsawIcon from '@/assets/chainsaw.jpg'\nimport macheteIcon from '@/assets/machete.jpg'\nimport sodaIcon from '@/assets/soda.jpg'\nimport candleIcon from '@/assets/candle.jpg'\nimport grenadeIcon from '@/assets/grenade.jpg'\n\nexport default {\n  items: [\n    {\n      key: 'oil',\n      name: '',\n      image: oilIcon,\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '',\n      useTime: 1\n    },\n    {\n      key: 'gasoline',\n      name: '',\n      image: gasolineIcon,\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '2',\n      useTime: 1\n    },\n    {\n      key: 'board',\n      name: '',\n      image: boardIcon,\n      type: 'weapon',\n      addAtk: 1,\n      addHp: 0,\n      desc: '1',\n      useTime: 99\n    },\n    {\n      key: 'bone',\n      name: '',\n      image: boneIcon,\n      type: 'weapon',\n      addAtk: 2,\n      addHp: 0,\n      desc: '21',\n      useTime: 99\n    },\n    {\n      key: 'golf',\n      name: '',\n      image: golfIcon,\n      type: 'weapon',\n      addAtk: 1,\n      addHp: 0,\n      desc: '1',\n      useTime: 99\n    },\n    {\n      key: 'chainsaw',\n      name: '',\n      image: chainsawIcon,\n      type: 'weapon',\n      addAtk: 3,\n      addHp: 0,\n      desc: '3',\n      useTime: 2\n    },\n    {\n      key: 'machete',\n      name: '',\n      image: macheteIcon,\n      type: 'weapon',\n      addAtk: 2,\n      addHp: 0,\n      desc: '2',\n      useTime: 99\n    },\n    {\n      key: 'soda',\n      name: '',\n      image: sodaIcon,\n      type: 'item',\n      addAtk: 0,\n      addHp: 2,\n      desc: '2',\n      useTime: 1\n    },\n    {\n      key: 'candle',\n      name: '',\n      image: candleIcon,\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '/',\n      useTime: 1\n    },\n    {\n      key: 'grenade',\n      name: '',\n      image: grenadeIcon,\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '',\n      useTime: 1\n    }\n  ]\n}\n","export default {\n  discardCount: 2, // discard how many events after shuffling. the bigger the faster time passing, which means more harder\n  events: [\n    {\n      timeEvents: [\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 6,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'oil'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: '...'\n        },\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'gasoline'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        }\n      ],\n      item: 'board'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 6,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'machete'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 5,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        }\n      ],\n      item: 'bone'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'golf'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'battle',\n          zombies: 3,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 5,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'chainsaw'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: 1,\n          desc: ''\n        },\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'soda'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: 1,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'candle'\n    }\n  ]\n}\n","export default {\n  sysName: 'zimp-h5', // \n  // system using, do NOT change\n  time: 0, // 0/1/2/3 index => time clock 9/10/11/12\n  events: [], // event LIST to be finished\n  indoors: [], // indoor LIST to be visited\n  outdoors: [], // outdoor LIST to be visited\n  map: [\n    // {\n    //   x: 0,\n    //   y: 0,\n    //   rotate: 0,\n    //   where: 'indoor/outdoor',\n    //   key: '',\n    //   name: '',\n    //   image: '',\n    //   desc: '',\n    // }\n  ] // map data\n}\n","export default {\n  character: '', // backpacker/sportgirl/oldman/soldier\n  hp: 0,\n  atk: 0,\n  x: 0, // location x on the map\n  y: 0, // location y on the map\n  gotTotem: false,\n  buriedTotem: false,\n  maxItems: 0,\n  items: [\n    // {\n    //   ...\n    // }\n  ]\n}\n","import { numberUtil } from '@youngbeen/angle-util'\n\nexport const shuffle = (toShuffle) => {\n  const toShuffleArray = JSON.parse(JSON.stringify(toShuffle))\n  const randomIndexs = numberUtil.multiRandom(toShuffleArray.length, toShuffleArray.length - 1, 0)\n  const result = []\n  randomIndexs.forEach(index => {\n    result.push(toShuffleArray[index])\n  })\n  return result\n}\n\nexport const getHeadToLocation = (from, doorIndex) => {\n  // use rotate and door index to calculating the target location\n  let rotateIndexChange = 0\n  switch (from.rotate) {\n    case 90:\n      rotateIndexChange = 1\n      break\n    case 180:\n      rotateIndexChange = 2\n      break\n    case 270:\n      rotateIndexChange = 3\n      break\n    default:\n      rotateIndexChange = 0\n  }\n  switch ((doorIndex + rotateIndexChange) % 4) {\n    case 0:\n      // move up\n      return {\n        x: from.x,\n        y: from.y - 1\n      }\n    case 1:\n      // move right\n      return {\n        x: from.x + 1,\n        y: from.y\n      }\n    case 2:\n      // move down\n      return {\n        x: from.x,\n        y: from.y + 1\n      }\n    case 3:\n      // move left\n      return {\n        x: from.x - 1,\n        y: from.y\n      }\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-start\"},[_vm._m(0),_c('div',{staticClass:\"primary-red\"},[_vm._v(\"Web Edition\")]),_vm._m(1),_c('div',{staticClass:\"desc style-font\",attrs:{\"data-content\":_vm.desc}},[_vm._v(\" \"+_vm._s(_vm.desc)+\" \")]),_c('div',{staticClass:\"select-player text-center\"},[_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '1' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('1')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":require(\"@/assets/char_backpacker.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '2' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('2')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":require(\"@/assets/char_sportgirl.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '3' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('3')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":require(\"@/assets/char_oldman.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '4' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('4')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":require(\"@/assets/char_soldier.jpg\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"char-desc\"},[_vm._v(\" \"+_vm._s(_vm.characterDesc)+\" \")]),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"40px\"}},[_c('button',{staticClass:\"primary-button start-button\",on:{\"click\":function($event){return _vm.start()}}},[_vm._v(\"\")])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box-logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/game_logo.png\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box-creator\"},[_c('div',{staticClass:\"text-center\"},[_vm._v(\"Jeremiah LeeYoungbeen\")]),_c('div',{staticClass:\"text-center\"},[_vm._v(\"All game program copyright reserved by Youngbeen 2024-present\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"pop-start\"\n    v-show=\"isShow\">\n    <div class=\"box-logo\">\n      <img src=\"@/assets/game_logo.png\" alt=\"\">\n    </div>\n    <div class=\"primary-red\">Web Edition</div>\n    <div class=\"box-creator\">\n      <div class=\"text-center\">Jeremiah LeeYoungbeen</div>\n      <div class=\"text-center\">All game program copyright reserved by Youngbeen 2024-present</div>\n    </div>\n    <div class=\"desc style-font\" :data-content=\"desc\">\n      {{ desc }}\n    </div>\n    <div class=\"select-player text-center\">\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '1' && 'active']\"\n        @click=\"togglePlayer('1')\">\n        <img class=\"avatar\" src=\"@/assets/char_backpacker.jpg\" alt=\"\">\n      </div>\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '2' && 'active']\"\n        @click=\"togglePlayer('2')\">\n        <img class=\"avatar\" src=\"@/assets/char_sportgirl.jpg\" alt=\"\">\n      </div>\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '3' && 'active']\"\n        @click=\"togglePlayer('3')\">\n        <img class=\"avatar\" src=\"@/assets/char_oldman.jpg\" alt=\"\">\n      </div>\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '4' && 'active']\"\n        @click=\"togglePlayer('4')\">\n        <img class=\"avatar\" src=\"@/assets/char_soldier.jpg\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"char-desc\">\n      {{ characterDesc }}\n    </div>\n    <div class=\"text-center\" style=\"margin-top: 40px;\">\n      <button class=\"primary-button start-button\"\n        @click=\"start()\"></button>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\n\nconst PlayerMap = {\n  1: 'backpacker',\n  2: 'sportgirl',\n  3: 'oldman',\n  4: 'soldier'\n}\nconst characterDescMap = {\n  1: '',\n  2: '',\n  3: '',\n  4: ''\n}\nexport default {\n  data () {\n    return {\n      isShow: true,\n      desc: '12...',\n      selectedPlayer: '1'\n    }\n  },\n  computed: {\n    characterDesc () {\n      return characterDescMap[this.selectedPlayer]\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessageAction', ({ action, tag }) => {\n      if (action === 'confirm' && tag && tag.source === 'restart') {\n        this.isShow = true\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessageAction')\n  },\n\n  methods: {\n    togglePlayer (val) {\n      this.selectedPlayer = val\n    },\n    start () {\n      player.character = PlayerMap[this.selectedPlayer]\n      this.isShow = false\n      this.selectedPlayer = '1'\n      eventBus.$emit('notifyStart')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-start {\n  position: fixed;\n  z-index: 41;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: #000;\n  color: #fff;\n}\n.box-logo {\n  margin-top: 100px;\n  text-align: center;\n  img {\n    width: 400px;\n  }\n}\n.primary-red {\n  color: red;\n  text-align: center;\n  font-size: 40px;\n}\n.box-creator {\n  padding: 24px 48px;\n  color: #8d8d8d;\n}\n.desc {\n  // margin-top: 40px;\n  padding: 24px 48px;\n  color: red;\n  font-size: 28px;\n}\n.select-player {\n  .box-player {\n    display: inline-block;\n    padding: 8px;\n    border: 6px solid transparent;\n    border-radius: 12px;\n    opacity: 0.7;\n    overflow: hidden;\n    transition: all 0.3s;\n    &.active {\n      border: 6px solid red;\n      opacity: 1;\n    }\n    .avatar {\n      width: 140px;\n      height: 140px;\n      border-radius: 8px;\n    }\n  }\n}\n.char-desc {\n  padding: 24px 48px;\n  font-size: 26px;\n}\n.start-button {\n  width: 400px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StartPop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StartPop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StartPop.vue?vue&type=template&id=c37137c6&scoped=true\"\nimport script from \"./StartPop.vue?vue&type=script&lang=js\"\nexport * from \"./StartPop.vue?vue&type=script&lang=js\"\nimport style0 from \"./StartPop.vue?vue&type=style&index=0&id=c37137c6&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c37137c6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"comp-top-panel\">\n    <div class=\"box-hp\">\n      <div class=\"label text-center\"></div>\n      <div class=\"text text-center style-font\">{{ player.hp }}</div>\n    </div>\n    <div class=\"box-time\">\n      <div class=\"label text-center\"></div>\n      <div class=\"text text-center style-font\">{{ nowClock }}{{ system.events.length }}</div>\n    </div>\n    <div class=\"box-totem-status\">\n      <div class=\"label text-center\"></div>\n      <div class=\"text text-center style-font\">{{ player.gotTotem ? '' : '' }}</div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport player from '@/models/Player'\nimport system from '@/models/system'\n\nconst clockMap = [\n  '9:00 PM',\n  '10:00 PM',\n  '11:00 PM',\n  '12:00 PM'\n]\n\nexport default {\n  data () {\n    return {\n      player,\n      system\n    }\n  },\n\n  computed: {\n    nowClock () {\n      return clockMap[this.system.time]\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-top-panel {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  z-index: 20;\n  left: 24px;\n  top: 24px;\n  right: 24px;\n  padding: 24px;\n  border: 4px solid red;\n  border-radius: 6px;\n  background: rgba(0, 0, 0, 0.9);\n  .label {\n    margin-bottom: 6px;\n    color: #fff;\n  }\n  .text {\n    color: red;\n    font-size: 34px;\n    font-weight: bold;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TopPanel.vue?vue&type=template&id=15930bbf&scoped=true\"\nimport script from \"./TopPanel.vue?vue&type=script&lang=js\"\nexport * from \"./TopPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./TopPanel.vue?vue&type=style&index=0&id=15930bbf&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15930bbf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-top-panel\"},[_c('div',{staticClass:\"box-hp\"},[_c('div',{staticClass:\"label text-center\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text text-center style-font\"},[_vm._v(_vm._s(_vm.player.hp))])]),_c('div',{staticClass:\"box-time\"},[_c('div',{staticClass:\"label text-center\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text text-center style-font\"},[_vm._v(_vm._s(_vm.nowClock)+\"\"+_vm._s(_vm.system.events.length)+\"\")])]),_c('div',{staticClass:\"box-totem-status\"},[_c('div',{staticClass:\"label text-center\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text text-center style-font\"},[_vm._v(_vm._s(_vm.player.gotTotem ? '' : ''))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"comp-main-container\">\n    <div class=\"layer-rooms\">\n      <div class=\"room room-0\"\n        v-show=\"roomData[0].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[0].rotate && ('rotate-' + roomData[0].rotate)]\"\n          :src=\"roomData[0].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[0].key }}</div> -->\n      </div>\n      <div class=\"room room-1\"\n        v-show=\"roomData[1].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[1].rotate && ('rotate-' + roomData[1].rotate)]\"\n          :src=\"roomData[1].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[1].key }}</div> -->\n      </div>\n      <div class=\"room room-2\"\n        v-show=\"roomData[2].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[2].rotate && ('rotate-' + roomData[2].rotate)]\"\n          :src=\"roomData[2].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[2].key }}</div> -->\n      </div>\n\n      <div class=\"room room-3\"\n        v-show=\"roomData[3].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[3].rotate && ('rotate-' + roomData[3].rotate)]\"\n          :src=\"roomData[3].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[3].key }}</div> -->\n      </div>\n      <div class=\"room center-room\"\n        v-show=\"roomData[4].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[4].rotate && ('rotate-' + roomData[4].rotate)]\"\n          :src=\"roomData[4].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[4].key }}</div> -->\n        <img class=\"player\"\n          :src=\"playerChar\" alt=\"\">\n      </div>\n      <div class=\"room room-5\"\n        v-show=\"roomData[5].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[5].rotate && ('rotate-' + roomData[5].rotate)]\"\n          :src=\"roomData[5].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[5].key }}</div> -->\n      </div>\n\n      <div class=\"room room-6\"\n        v-show=\"roomData[6].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[6].rotate && ('rotate-' + roomData[6].rotate)]\"\n          :src=\"roomData[6].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[6].key }}</div> -->\n      </div>\n      <div class=\"room room-7\"\n        v-show=\"roomData[7].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[7].rotate && ('rotate-' + roomData[7].rotate)]\"\n          :src=\"roomData[7].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[7].key }}</div> -->\n      </div>\n      <div class=\"room room-8\"\n        v-show=\"roomData[8].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[8].rotate && ('rotate-' + roomData[8].rotate)]\"\n          :src=\"roomData[8].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[8].key }}</div> -->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport player from '@/models/Player'\nimport backpacker from '@/assets/char_backpacker.jpg'\nimport sportgirl from '@/assets/char_sportgirl.jpg'\nimport oldman from '@/assets/char_oldman.jpg'\nimport soldier from '@/assets/char_soldier.jpg'\n\nconst charMap = {\n  backpacker,\n  sportgirl,\n  oldman,\n  soldier\n}\n\nexport default {\n  props: {\n    roomData: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      player\n    }\n  },\n\n  computed: {\n    playerChar () {\n      if (this.player.character) {\n        return charMap[this.player.character]\n      } else {\n        return ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-main-container {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  background: #000;\n  overflow: hidden;\n  .layer-rooms {\n    position: absolute;\n    z-index: 1;\n    left: calc((100% - 900px - 16px) / 2);\n    top: calc((100% - 900px - 16px) / 2);\n    width: 916px;\n    height: 916px;\n    overflow: hidden;\n  }\n  .room {\n    position: absolute;\n    z-index: 2;\n    .room-image {\n      width: 300px;\n      height: 300px;\n      // transition: all 0.3s;\n    }\n    .room-info {\n      position: absolute;\n      z-index: 3;\n      right: 12px;\n      bottom: 12px;\n    }\n    .player {\n      position: absolute;\n      z-index: 4;\n      left: 100px;\n      top: 100px;\n      width: 100px;\n      height: 100px;\n      border-radius: 100%;\n      border: 6px solid red;\n      box-shadow: 4px 4px 12px #494949;\n    }\n  }\n  .room-0 {\n    left: 0;\n    top: 0;\n  }\n  .room-1 {\n    left: 308px;\n    top: 0;\n  }\n  .room-2 {\n    left: 616px;\n    top: 0;\n  }\n  .room-3 {\n    left: 0;\n    top: 308px;\n  }\n  .center-room {\n    left: 308px;\n    top: 308px;\n  }\n  .room-5 {\n    left: 616px;\n    top: 308px;\n  }\n  .room-6 {\n    left: 0;\n    top: 616px;\n  }\n  .room-7 {\n    left: 308px;\n    top: 616px;\n  }\n  .room-8 {\n    left: 616px;\n    top: 616px;\n  }\n  .rotate-90 {\n    transform: rotate(90deg);\n  }\n  .rotate-180 {\n    transform: rotate(180deg);\n  }\n  .rotate-270 {\n    transform: rotate(270deg);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainContainer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainContainer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MainContainer.vue?vue&type=template&id=a5a29a22&scoped=true\"\nimport script from \"./MainContainer.vue?vue&type=script&lang=js\"\nexport * from \"./MainContainer.vue?vue&type=script&lang=js\"\nimport style0 from \"./MainContainer.vue?vue&type=style&index=0&id=a5a29a22&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5a29a22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-main-container\"},[_c('div',{staticClass:\"layer-rooms\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[0].key),expression:\"roomData[0].key\"}],staticClass:\"room room-0\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[0].rotate && ('rotate-' + _vm.roomData[0].rotate)],attrs:{\"src\":_vm.roomData[0].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[1].key),expression:\"roomData[1].key\"}],staticClass:\"room room-1\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[1].rotate && ('rotate-' + _vm.roomData[1].rotate)],attrs:{\"src\":_vm.roomData[1].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[2].key),expression:\"roomData[2].key\"}],staticClass:\"room room-2\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[2].rotate && ('rotate-' + _vm.roomData[2].rotate)],attrs:{\"src\":_vm.roomData[2].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[3].key),expression:\"roomData[3].key\"}],staticClass:\"room room-3\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[3].rotate && ('rotate-' + _vm.roomData[3].rotate)],attrs:{\"src\":_vm.roomData[3].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[4].key),expression:\"roomData[4].key\"}],staticClass:\"room center-room\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[4].rotate && ('rotate-' + _vm.roomData[4].rotate)],attrs:{\"src\":_vm.roomData[4].image,\"alt\":\"\"}}),_c('img',{staticClass:\"player\",attrs:{\"src\":_vm.playerChar,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[5].key),expression:\"roomData[5].key\"}],staticClass:\"room room-5\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[5].rotate && ('rotate-' + _vm.roomData[5].rotate)],attrs:{\"src\":_vm.roomData[5].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[6].key),expression:\"roomData[6].key\"}],staticClass:\"room room-6\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[6].rotate && ('rotate-' + _vm.roomData[6].rotate)],attrs:{\"src\":_vm.roomData[6].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[7].key),expression:\"roomData[7].key\"}],staticClass:\"room room-7\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[7].rotate && ('rotate-' + _vm.roomData[7].rotate)],attrs:{\"src\":_vm.roomData[7].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[8].key),expression:\"roomData[8].key\"}],staticClass:\"room room-8\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[8].rotate && ('rotate-' + _vm.roomData[8].rotate)],attrs:{\"src\":_vm.roomData[8].image,\"alt\":\"\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import player from '@/models/Player'\nimport system from '@/models/system'\n\nexport const checkAlive = () => {\n  if (player.hp > 0) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const checkWinGame = () => {\n  if (player.buriedTotem && player.hp > 0) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const checkItems = () => {\n  for (let index = player.items.length - 1; index >= 0; index--) {\n    const item = player.items[index]\n    if (item.useTime <= 0 && item.key !== 'chainsaw') {\n      player.items.splice(index, 1)\n    }\n  }\n}\n\nexport const hasValidEntrance = () => {\n  let hasFlag = false\n  for (let index = 0; index < system.map.length; index++) {\n    const r = system.map[index]\n    const realDoorIndex = r.doors.map(i => {\n      return (i + r.rotate / 90) % 4\n    })\n    const up = system.map.findIndex(tr => tr.x === r.x && tr.y === r.y - 1)\n    if (up === -1 && realDoorIndex.includes(0)) {\n      hasFlag = true\n      break\n    }\n    const down = system.map.findIndex(tr => tr.x === r.x && tr.y === r.y + 1)\n    if (down === -1 && realDoorIndex.includes(2)) {\n      hasFlag = true\n      break\n    }\n    const left = system.map.findIndex(tr => tr.x === r.x - 1 && tr.y === r.y)\n    if (left === -1 && realDoorIndex.includes(3)) {\n      hasFlag = true\n      break\n    }\n    const right = system.map.findIndex(tr => tr.x === r.x + 1 && tr.y === r.y)\n    if (right === -1 && realDoorIndex.includes(1)) {\n      hasFlag = true\n      break\n    }\n  }\n  return hasFlag\n}\n\nexport const getBreakInEntrance = () => {\n  const currentRoom = system.map.find(r => r.x === player.x && r.y === player.y)\n  const realDoorIndex = currentRoom.doors.map(i => {\n    return (i + currentRoom.rotate / 90) % 4\n  })\n  const up = system.map.findIndex(tr => tr.x === currentRoom.x && tr.y === currentRoom.y - 1)\n  if (up === -1 && !realDoorIndex.includes(0)) {\n    return (0 + 4 - currentRoom.rotate / 90) % 4\n  }\n  const down = system.map.findIndex(tr => tr.x === currentRoom.x && tr.y === currentRoom.y + 1)\n  if (down === -1 && !realDoorIndex.includes(2)) {\n    return (2 + 4 - currentRoom.rotate / 90) % 4\n  }\n  const left = system.map.findIndex(tr => tr.x === currentRoom.x - 1 && tr.y === currentRoom.y)\n  if (left === -1 && !realDoorIndex.includes(3)) {\n    return (3 + 4 - currentRoom.rotate / 90) % 4\n  }\n  const right = system.map.findIndex(tr => tr.x === currentRoom.x + 1 && tr.y === currentRoom.y)\n  if (right === -1 && !realDoorIndex.includes(1)) {\n    return (1 + 4 - currentRoom.rotate / 90) % 4\n  }\n  return -1\n}\n\nexport const getVisitedRooms = () => {\n  let count = 0\n  const upRoom = system.map.find(r => r.x === player.x && r.y === player.y - 1)\n  const downRoom = system.map.find(r => r.x === player.x && r.y === player.y + 1)\n  const leftRoom = system.map.find(r => r.x === player.x - 1 && r.y === player.y)\n  const rightRoom = system.map.find(r => r.x === player.x + 1 && r.y === player.y)\n  upRoom && count++\n  downRoom && count++\n  leftRoom && count++\n  rightRoom && count++\n  return {\n    up: upRoom,\n    down: downRoom,\n    left: leftRoom,\n    right: rightRoom,\n    count\n  }\n}\n","<template>\n  <section class=\"comp-actions\">\n    <div class=\"layer-entrance\"\n      :class=\"[roomData.rotate && ('rotate-' + roomData.rotate)]\"\n      v-show=\"!isRunAwayShow\"\n    >\n      <div class=\"top-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(0)\"\n        @click=\"enter(0)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12V20H11V12H4L12 4L20 12H13Z\"></path></svg>\n      </div>\n      <div class=\"right-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(1)\"\n        @click=\"enter(1)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13H4V11H12V4L20 12L12 20V13Z\"></path></svg>\n      </div>\n      <div class=\"bottom-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(2)\"\n        @click=\"enter(2)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12H20L12 20L4 12H11V4H13V12Z\"></path></svg>\n      </div>\n      <div class=\"left-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(3)\"\n        @click=\"enter(3)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13V20L4 12L12 4V11H20V13H12Z\"></path></svg>\n      </div>\n    </div>\n    <div class=\"layer-rotate\"\n      v-show=\"isRotateNewRoomShow\">\n      <img class=\"new-room\"\n        :class=\"[rotateDeg && ('rotate-' + rotateDeg)]\"\n        :src=\"newRoom.image\" alt=\"\">\n      <div class=\"icon-button icon-rotate\"\n        @click=\"rotate()\">\n        <img class=\"icon\" src=\"@/assets/icon_rotate.svg\" alt=\"\">\n      </div>\n      <div class=\"icon-button icon-confirm\"\n        @click=\"confirmRotate()\">\n        <img class=\"icon\" src=\"@/assets/icon_confirm.svg\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"layer-runaway\"\n      v-show=\"isRunAwayShow\">\n      <div class=\"top-enter\"\n        v-if=\"runAwayRooms.up\"\n        @click=\"dealRunAway(0, -1)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12V20H11V12H4L12 4L20 12H13Z\"></path></svg>\n      </div>\n      <div class=\"right-enter\"\n        v-if=\"runAwayRooms.right\"\n        @click=\"dealRunAway(1, 0)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13H4V11H12V4L20 12L12 20V13Z\"></path></svg>\n      </div>\n      <div class=\"bottom-enter\"\n        v-if=\"runAwayRooms.down\"\n        @click=\"dealRunAway(0, 1)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12H20L12 20L4 12H11V4H13V12Z\"></path></svg>\n      </div>\n      <div class=\"left-enter\"\n        v-if=\"runAwayRooms.left\"\n        @click=\"dealRunAway(-1, 0)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13V20L4 12L12 4V11H20V13H12Z\"></path></svg>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport system from '@/models/system'\nimport player from '@/models/Player'\nimport ItemConfig from '@/models/config/Item'\nimport RoomConfig from '@/models/config/Room'\nimport SystemConfig from '@/models/config/System'\nimport { getHeadToLocation, shuffle } from '@/utils/CommonUtil'\nimport { getVisitedRooms, hasValidEntrance, getBreakInEntrance, checkWinGame } from '@/ctrls/CommonCtrl'\n\nexport default {\n  props: {\n    roomData: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      isRotateNewRoomShow: false,\n      rotateDeg: 0,\n      newRoom: {\n        image: ''\n      },\n      isRunAwayShow: false,\n      runAwayRooms: {},\n      newLocation: {},\n      where: '',\n      phase: ''\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessageAction', ({ action, tag, index }) => {\n      if (tag && tag.source === 'getItem') {\n        if (action === 'confirm') {\n          // deal fetch item\n          tag.postEvent ? this.phase = 'specialItem' : this.phase = 'item'\n        } else {\n          // cancel fetch item\n          if (tag.postEvent) {\n            this.phase = ''\n            if (!hasValidEntrance()) {\n              this.dealBreakIn()\n            }\n          } else {\n            this.phase = 'specialEvent'\n          }\n        }\n        this.dealRoomStory()\n      } else if (tag && tag.source === 'getSpecialItem') {\n        if (action === 'confirm') {\n          // deal fetch item\n          this.phase = 'specialItem'\n          this.dealRoomStory()\n        } else {\n          // cancel fetch item\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        }\n      } else if (tag && tag.source === 'dropEventItem') {\n        if (index >= player.items.length) {\n          // drop the new item, do nothing\n        } else {\n          // drop exist item, replace it with new item\n          player.items.splice(index, 1, tag.newItem)\n        }\n        this.phase = 'specialEvent'\n        this.dealRoomStory()\n      } else if (tag && tag.source === 'dropSpecialItem') {\n        if (index >= player.items.length) {\n          // drop the new item, do nothing\n        } else {\n          // drop exist item, replace it with new item\n          player.items.splice(index, 1, tag.newItem)\n        }\n        this.phase = ''\n        if (!hasValidEntrance()) {\n          this.dealBreakIn()\n        }\n      } else if (tag && tag.source === 'getTotem') {\n        if (action === 'confirm') {\n          this.phase = 'totem'\n          this.dealRoomStory()\n        } else {\n          // cancel get totem\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        }\n      } else if (tag && tag.source === 'finishGame') {\n        this.phase = 'finishGame'\n        this.dealRoomStory()\n      } else if (tag && tag.source === 'restart') {\n        this.isRotateNewRoomShow = false\n        this.rotateDeg = 0\n        this.newRoom = {\n          image: ''\n        }\n        this.isRunAwayShow = false\n        this.runAwayRooms = {}\n        this.newLocation = {}\n        this.where = ''\n        this.phase = ''\n      }\n    })\n    eventBus.$on('notifyBattleResult', ({ result, tag }) => {\n      if (result === 'runAway') {\n        // 1. check visited rooms 2. show message 3. end\n        const visitedRooms = getVisitedRooms()\n        if (visitedRooms.count === 1) {\n          // only 1 valid visited room, get back into it\n          if (visitedRooms.up) {\n            this.dealRunAway(0, -1)\n          } else if (visitedRooms.down) {\n            this.dealRunAway(0, 1)\n          } else if (visitedRooms.left) {\n            this.dealRunAway(-1, 0)\n          } else if (visitedRooms.right) {\n            this.dealRunAway(1, 0)\n          }\n        } else {\n          // choose which visited room to run away into\n          this.runAwayRooms = visitedRooms\n          this.isRunAwayShow = true\n        }\n      } else if (result === 'win') {\n        if (tag && tag.source === 'finishGame') {\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n        } else if (tag && tag.source === 'breakIn') {\n          // NOTE after break in, no more events\n          this.phase = ''\n        } else if (tag && tag.postEvent) {\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        } else {\n          this.phase = 'specialEvent'\n          this.dealRoomStory()\n        }\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessageAction')\n    eventBus.$off('notifyBattleResult')\n  },\n\n  methods: {\n    enter (doorIndex) {\n      // console.log('enter door ', doorIndex)\n      const headToLocation = getHeadToLocation(this.roomData, doorIndex)\n      if (system.map.find(r => r.x === headToLocation.x && r.y === headToLocation.y)) {\n        // visited room\n        player.x = headToLocation.x\n        player.y = headToLocation.y\n        eventBus.$emit('notifyRedraw')\n        this.phase = 'roomEvent'\n        this.dealRoomStory()\n      } else {\n        // unknown room\n        if (this.roomData.outDoor && this.roomData.outDoor.length && this.roomData.outDoor.includes(doorIndex)) {\n          // go outside\n          const toShuffleOutdoors = []\n          let patio = null\n          RoomConfig.outdoors.forEach(r => {\n            if (r.key === 'patio') {\n              patio = {\n                ...r,\n                where: 'outdoor'\n              }\n            } else {\n              toShuffleOutdoors.push({\n                ...r,\n                where: 'outdoor'\n              })\n            }\n          })\n          system.outdoors = shuffle(toShuffleOutdoors)\n          // console.log(system)\n          this.dealNewRoom(patio, headToLocation)\n        } else {\n          // go to a new room\n          // console.log(this.roomData, system)\n          let newRoom = null\n          if (this.roomData.where === 'indoor' && system.indoors.length) {\n            newRoom = system.indoors.pop()\n          } else if (this.roomData.where === 'outdoor' && system.outdoors.length) {\n            newRoom = system.outdoors.pop()\n          } else {\n            // no more rooms\n            eventBus.$emit('notifyMessage', {\n              message: '...'\n            })\n            return\n          }\n          if (newRoom) {\n            this.dealNewRoom(newRoom, headToLocation)\n          }\n        }\n      }\n    },\n    dealNewRoom (room, location) {\n      this.newRoom = room\n      this.rotateDeg = 0\n      this.newLocation = location\n      this.where = this.roomData.where\n      this.isRotateNewRoomShow = true\n      player.x = location.x\n      player.y = location.y\n      eventBus.$emit('notifyRedraw')\n    },\n    rotate () {\n      if (this.rotateDeg === 270) {\n        this.rotateDeg = 0\n      } else {\n        this.rotateDeg += 90\n      }\n    },\n    confirmRotate () {\n      system.map.push({\n        ...this.newRoom,\n        x: this.newLocation.x,\n        y: this.newLocation.y,\n        rotate: this.rotateDeg,\n        where: this.newRoom.where || this.where\n      })\n      this.isRotateNewRoomShow = false\n      eventBus.$emit('notifyRedraw')\n      this.phase = 'roomEvent'\n      this.dealRoomStory()\n    },\n    dealRoomStory () {\n      // 1. room event\n      // 1.1 battle\n      // 1.1.1 battle result\n      // 1.1.2 run away\n      // 1.2 effect\n      // 1.3 fetch item\n      // 1.3.1 drop item\n      // 2. special event\n      // 2.1 effect\n      // 2.2 fetch special item\n      // 2.2.1 drop item\n      switch (this.phase) {\n        case 'roomEvent':\n          this.dealEvent()\n          break\n        case 'item':\n          this.dealItem()\n          break\n        case 'specialEvent':\n          this.dealSpecialEvent()\n          break\n        case 'specialItem':\n          this.dealItem(true)\n          break\n        case 'totem':\n          this.dealFetchTotem()\n          break\n        case 'finishGame':\n          this.dealFinishGame()\n          break\n        default:\n      }\n    },\n    dealEvent (postEvent = false) {\n      if (!system.events.length) {\n        // no more events, should shuffle\n        eventBus.$emit('notifyShuffleEvents')\n      }\n      if (!system.events.length) {\n        // when game over, no more events after shuffling\n        return\n      }\n      // NOTE there's a possible bug, deal event before shuffling finish, should confirm\n      console.log('before deal event', JSON.stringify(system))\n      const event = system.events.pop()\n      const toDealEvent = event.timeEvents[system.time]\n      switch (toDealEvent.key) {\n        case 'msg':\n          eventBus.$emit('notifyMessage', {\n            message: toDealEvent.desc\n          })\n          if (!postEvent) {\n            this.phase = 'specialEvent'\n            this.dealRoomStory()\n          }\n          break\n        case 'getItem':\n          eventBus.$emit('notifyMessage', {\n            message: '',\n            confirmBtnText: '',\n            cancelBtnText: '',\n            tag: {\n              source: 'getItem',\n              postEvent\n            }\n          })\n          break\n        case 'battle':\n          eventBus.$emit('notifyHappenBattle', {\n            count: toDealEvent.zombies,\n            tag: {\n              postEvent\n            }\n          })\n          break\n        case 'effect':\n          player.hp += toDealEvent.addHp\n          eventBus.$emit('notifyMessage', {\n            message: `${toDealEvent.desc}${toDealEvent.addHp >= 0 ? '+' : ''}${toDealEvent.addHp}`\n          })\n          if (!postEvent) {\n            this.phase = 'specialEvent'\n            this.dealRoomStory()\n          }\n          break\n      }\n    },\n    dealSpecialEvent () {\n      // NOTE special event is based on the room\n      const stayedRoom = system.map.find(r => r.x === player.x && r.y === player.y)\n      if (stayedRoom.addHp > 0) {\n        player.hp += stayedRoom.addHp\n        eventBus.$emit('notifyMessage', {\n          message: `+${stayedRoom.addHp}`\n        })\n      } else if (stayedRoom.key === 'storage') {\n        // can fetch item\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          cancelBtnText: '',\n          tag: {\n            source: 'getSpecialItem'\n          }\n        })\n      } else if (stayedRoom.key === 'evilTemple' && !player.gotTotem) {\n        // can fetch totem\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          cancelBtnText: '',\n          tag: {\n            source: 'getTotem'\n          }\n        })\n      } else if (stayedRoom.key === 'graveyard' && player.gotTotem) {\n        // can bury totem in grave\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          tag: {\n            source: 'finishGame'\n          }\n        })\n      } else {\n        // no special event\n        this.phase = ''\n        if (!hasValidEntrance()) {\n          this.dealBreakIn()\n        }\n      }\n    },\n    dealFinalEvent () {\n      if (!system.events.length) {\n        // no more events, should shuffle\n        eventBus.$emit('notifyShuffleEvents')\n      }\n      if (!system.events.length) {\n        // when game over, no more events after shuffling\n        return\n      }\n      // NOTE there's a possible bug, deal event before shuffling finish, should confirm\n      console.log('before deal final event', JSON.stringify(system))\n      const event = system.events.pop()\n      const toDealEvent = event.timeEvents[system.time]\n      switch (toDealEvent.key) {\n        case 'msg':\n          eventBus.$emit('notifyMessage', {\n            message: toDealEvent.desc\n          })\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n          break\n        case 'getItem':\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n          break\n        case 'battle':\n          eventBus.$emit('notifyHappenBattle', {\n            count: toDealEvent.zombies,\n            disableRunAway: true,\n            tag: {\n              source: 'finishGame'\n            }\n          })\n          break\n        case 'effect':\n          player.hp += toDealEvent.addHp\n          eventBus.$emit('notifyMessage', {\n            message: `${toDealEvent.desc}${toDealEvent.addHp >= 0 ? '+' : ''}${toDealEvent.addHp}}`\n          })\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n          break\n      }\n    },\n    dealItem (isSpecialItem = false) {\n      if (!system.events.length) {\n        // no more events, should shuffle\n        eventBus.$emit('notifyShuffleEvents')\n      }\n      if (!system.events.length) {\n        // when game over, no more events after shuffling\n        return\n      }\n      // NOTE there's a possible bug, deal item before shuffling finish, should confirm\n      console.log('before deal item', JSON.stringify(system))\n      const event = system.events.pop()\n      const toDealItem = JSON.parse(JSON.stringify(ItemConfig.items.find(i => i.key === event.item)))\n      if (player.items.length < player.maxItems) {\n        player.items.push(toDealItem)\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          icons: [toDealItem]\n        })\n        if (!isSpecialItem) {\n          this.phase = 'specialEvent'\n          this.dealRoomStory()\n        } else {\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        }\n      } else {\n        // no more room for new item\n        this.dealDropItem(toDealItem, isSpecialItem)\n      }\n    },\n    dealDropItem (newItem, isSpecialItem = false) {\n      eventBus.$emit('notifyMessage', {\n        message: '',\n        icons: [...player.items.map(i => i), newItem],\n        selectable: true,\n        confirmBtnText: '',\n        tag: {\n          source: isSpecialItem ? 'dropSpecialItem' : 'dropEventItem',\n          newItem\n        }\n      })\n    },\n    dealRunAway (x, y) {\n      this.isRunAwayShow = false\n      this.runAwayRooms = {}\n      player.x += x\n      player.y += y\n      eventBus.$emit('notifyRedraw')\n      eventBus.$emit('notifyMessage', {\n        message: ''\n      })\n      this.phase = ''\n      if (!hasValidEntrance()) {\n        this.dealBreakIn()\n      }\n    },\n    dealBreakIn () {\n      const breakInIndex = getBreakInEntrance()\n      if (breakInIndex > -1) {\n        // break in causes a new entrance\n        const currentRoomIndex = system.map.findIndex(r => r.x === player.x && r.y === player.y)\n        const newRoomData = JSON.parse(JSON.stringify(system.map[currentRoomIndex]))\n        newRoomData.doors.push(breakInIndex)\n        system.map.splice(currentRoomIndex, 1, newRoomData)\n        // console.log(system.map)\n        eventBus.$emit('notifyRedraw')\n        eventBus.$emit('notifyHappenBattle', {\n          count: SystemConfig.breakInCount,\n          disableRunAway: true,\n          tag: {\n            source: 'breakIn'\n          }\n        })\n      } else {\n        // NOTE in real world, this situation rarely happens. But to make it robust, I decide it ends with game over\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          tag: {\n            source: 'restart'\n          }\n        })\n      }\n    },\n    dealFetchTotem () {\n      player.gotTotem = true\n      this.dealEvent(true)\n    },\n    dealFinishGame () {\n      player.buriedTotem = true\n      this.dealFinalEvent()\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-actions {\n  position: absolute;\n  z-index: 30;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  // background: red;\n  .icon-arrow {\n    width: 50px;\n    height: 50px;\n    color: red;\n  }\n  .layer-rotate {\n    position: absolute;\n    z-index: 38;\n    left: calc((100% - 300px) / 2);\n    top: calc((100% - 300px) / 2);\n    width: 300px;\n    height: 300px;\n    .new-room {\n      width: 300px;\n      height: 300px;\n      transition: all 0.3s;\n      &.rotate-90 {\n        transform: rotate(90deg);\n      }\n      &.rotate-180 {\n        transform: rotate(180deg);\n      }\n      &.rotate-270 {\n        transform: rotate(270deg);\n      }\n    }\n    .icon-rotate {\n      position: absolute;\n      z-index: 39;\n      left: 20px;\n      top: 100px;\n    }\n    .icon-confirm {\n      position: absolute;\n      z-index: 39;\n      right: 20px;\n      top: 100px;\n    }\n  }\n  .layer-entrance {\n    position: absolute;\n    z-index: 31;\n    left: calc((100% - 300px) / 2);\n    top: calc((100% - 300px) / 2);\n    width: 300px;\n    height: 300px;\n    // background: red;\n    &.rotate-90 {\n      transform: rotate(90deg);\n    }\n    &.rotate-180 {\n      transform: rotate(180deg);\n    }\n    &.rotate-270 {\n      transform: rotate(270deg);\n    }\n    .top-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      top: 0;\n      height: 50px;\n      // background: red;\n    }\n    .right-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      right: 0;\n      width: 50px;\n      // background: red;\n    }\n    .bottom-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      bottom: 0;\n      height: 50px;\n      // background: red;\n    }\n    .left-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      left: 0;\n      width: 50px;\n      // background: red;\n    }\n  }\n  .layer-runaway {\n    position: absolute;\n    z-index: 38;\n    left: calc((100% - 300px) / 2);\n    top: calc((100% - 300px) / 2);\n    width: 300px;\n    height: 300px;\n    // background: red;\n    .top-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      top: 0;\n      height: 50px;\n      // background: red;\n    }\n    .right-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      right: 0;\n      width: 50px;\n      // background: red;\n    }\n    .bottom-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      bottom: 0;\n      height: 50px;\n      // background: red;\n    }\n    .left-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      left: 0;\n      width: 50px;\n      // background: red;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActionContainer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActionContainer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionContainer.vue?vue&type=template&id=efbd12d6&scoped=true\"\nimport script from \"./ActionContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ActionContainer.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActionContainer.vue?vue&type=style&index=0&id=efbd12d6&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efbd12d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-actions\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isRunAwayShow),expression:\"!isRunAwayShow\"}],staticClass:\"layer-entrance\",class:[_vm.roomData.rotate && ('rotate-' + _vm.roomData.rotate)]},[(_vm.roomData.doors && _vm.roomData.doors.includes(0))?_c('div',{staticClass:\"top-enter\",on:{\"click\":function($event){return _vm.enter(0)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12V20H11V12H4L12 4L20 12H13Z\"}})])]):_vm._e(),(_vm.roomData.doors && _vm.roomData.doors.includes(1))?_c('div',{staticClass:\"right-enter\",on:{\"click\":function($event){return _vm.enter(1)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13H4V11H12V4L20 12L12 20V13Z\"}})])]):_vm._e(),(_vm.roomData.doors && _vm.roomData.doors.includes(2))?_c('div',{staticClass:\"bottom-enter\",on:{\"click\":function($event){return _vm.enter(2)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12H20L12 20L4 12H11V4H13V12Z\"}})])]):_vm._e(),(_vm.roomData.doors && _vm.roomData.doors.includes(3))?_c('div',{staticClass:\"left-enter\",on:{\"click\":function($event){return _vm.enter(3)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13V20L4 12L12 4V11H20V13H12Z\"}})])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRotateNewRoomShow),expression:\"isRotateNewRoomShow\"}],staticClass:\"layer-rotate\"},[_c('img',{staticClass:\"new-room\",class:[_vm.rotateDeg && ('rotate-' + _vm.rotateDeg)],attrs:{\"src\":_vm.newRoom.image,\"alt\":\"\"}}),_c('div',{staticClass:\"icon-button icon-rotate\",on:{\"click\":function($event){return _vm.rotate()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_rotate.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button icon-confirm\",on:{\"click\":function($event){return _vm.confirmRotate()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_confirm.svg\"),\"alt\":\"\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRunAwayShow),expression:\"isRunAwayShow\"}],staticClass:\"layer-runaway\"},[(_vm.runAwayRooms.up)?_c('div',{staticClass:\"top-enter\",on:{\"click\":function($event){return _vm.dealRunAway(0, -1)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12V20H11V12H4L12 4L20 12H13Z\"}})])]):_vm._e(),(_vm.runAwayRooms.right)?_c('div',{staticClass:\"right-enter\",on:{\"click\":function($event){return _vm.dealRunAway(1, 0)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13H4V11H12V4L20 12L12 20V13Z\"}})])]):_vm._e(),(_vm.runAwayRooms.down)?_c('div',{staticClass:\"bottom-enter\",on:{\"click\":function($event){return _vm.dealRunAway(0, 1)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12H20L12 20L4 12H11V4H13V12Z\"}})])]):_vm._e(),(_vm.runAwayRooms.left)?_c('div',{staticClass:\"left-enter\",on:{\"click\":function($event){return _vm.dealRunAway(-1, 0)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13V20L4 12L12 4V11H20V13H12Z\"}})])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BottomPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BottomPanel.vue?vue&type=script&lang=js\"","<template>\n  <section class=\"comp-bottom-panel\">\n    <div class=\"box-items\">\n      <div class=\"box-item\"\n        v-for=\"i in player.maxItems\" :key=\"i\"\n        @click=\"handleUseItem(player.maxItems - i)\">\n        <img\n          v-if=\"player.items[player.maxItems - i]\"\n          :src=\"player.items[player.maxItems - i].image\" alt=\"\">\n        <span class=\"left-time\"\n          v-if=\"player.items[player.maxItems - i] && player.items[player.maxItems - i].useTime\">{{ player.items[player.maxItems - i].useTime === 99 ? '' : player.items[player.maxItems - i].useTime }}</span>\n      </div>\n    </div>\n    <div class=\"icon-button\"\n      @click=\"handleCower()\">\n      <img class=\"icon\" src=\"@/assets/icon_heart.svg\" alt=\"\">\n    </div>\n    <div class=\"icon-button\"\n      @click=\"handleOpenMap()\">\n      <img class=\"icon\" src=\"@/assets/icon_map.svg\" alt=\"\">\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\nimport system from '@/models/system'\nimport SystemConfig from '@/models/config/System'\nimport { checkItems } from '@/ctrls/CommonCtrl'\n\nexport default {\n  data () {\n    return {\n      player\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessageAction', ({ action, tag }) => {\n      if (action === 'confirm' && tag && tag.source === 'cower') {\n        this.dealCower(tag.cowerRecover)\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessageAction')\n  },\n\n  methods: {\n    handleUseItem (index) {\n      if (player.items.length && index < player.items.length) {\n        const item = player.items[index]\n        if (item.key === 'soda') {\n          if (item.useTime > 0) {\n            if (item.useTime !== 99) {\n              item.useTime--\n            }\n            player.hp += item.addHp\n            eventBus.$emit('notifyMessage', {\n              message: `${item.name}+${item.addHp}`\n            })\n          }\n          checkItems()\n        } else if (item.key === 'gasoline') {\n          const chainsawIndex = player.items.findIndex(i => i.key === 'chainsaw')\n          if (chainsawIndex >= 0) {\n            const chainsawItem = player.items[chainsawIndex]\n            if (item.useTime > 0) {\n              if (item.useTime !== 99) {\n                item.useTime--\n              }\n              chainsawItem.useTime !== 99 && (chainsawItem.useTime += 2)\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n            }\n            checkItems()\n          } else {\n            eventBus.$emit('notifyMessage', {\n              message: item.desc\n            })\n          }\n        } else {\n          eventBus.$emit('notifyMessage', {\n            message: item.desc\n          })\n        }\n      }\n    },\n    handleCower () {\n      // Cower to recover hp whenever touch Cower icon during idle status. Recover 3 hp, time passes 1 hour and discard the next event withour resolving. Recover may be affected by some items.\n      const boneIndex = player.items.findIndex(i => i.key === 'bone')\n      let cowerRecover = 3\n      boneIndex >= 0 && cowerRecover--\n      eventBus.$emit('notifyMessage', {\n        message: `+${cowerRecover}1`,\n        confirmBtnText: '',\n        cancelBtnText: '',\n        tag: {\n          source: 'cower',\n          cowerRecover\n        }\n      })\n    },\n    dealCower (recoverHp) {\n      player.hp += recoverHp\n      eventBus.$emit('notifyMessage', {\n        message: `+${recoverHp}`\n      })\n      system.time++\n      if (system.time >= SystemConfig.endTime) {\n        eventBus.$emit('notifyMessage', {\n          message: '12',\n          confirmBtnText: '',\n          tag: {\n            source: 'restart'\n          }\n        })\n        // return\n      }\n      // NOTE I broke the original designed rule, cower only effects time passing, no discarding event here. Reason is it's not that important while brings more complications\n    },\n    handleOpenMap () {\n      eventBus.$emit('notifyShowMap')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-bottom-panel {\n  display: flex;\n  justify-content: space-between;\n  align-items: end;\n  position: fixed;\n  z-index: 31;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 24px;\n  // background: red;\n  .box-items {\n    width: 100px;\n    border: 4px solid red;\n    border-radius: 8px;\n    .box-item {\n      position: relative;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100px;\n      &:not(:last-of-type) {\n        border-bottom: 4px solid red;\n      }\n      img {\n        width: 80px;\n        height: 80px;\n      }\n      .left-time {\n        position: absolute;\n        right: 10px;\n        bottom: 10px;\n        color: #fff;\n        font-size: 40px;\n        text-shadow: 2px 2px 6px black;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./BottomPanel.vue?vue&type=template&id=9d502348&scoped=true\"\nimport script from \"./BottomPanel.vue?vue&type=script&lang=js\"\nexport * from \"./BottomPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./BottomPanel.vue?vue&type=style&index=0&id=9d502348&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d502348\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-bottom-panel\"},[_c('div',{staticClass:\"box-items\"},_vm._l((_vm.player.maxItems),function(i){return _c('div',{key:i,staticClass:\"box-item\",on:{\"click\":function($event){return _vm.handleUseItem(_vm.player.maxItems - i)}}},[(_vm.player.items[_vm.player.maxItems - i])?_c('img',{attrs:{\"src\":_vm.player.items[_vm.player.maxItems - i].image,\"alt\":\"\"}}):_vm._e(),(_vm.player.items[_vm.player.maxItems - i] && _vm.player.items[_vm.player.maxItems - i].useTime)?_c('span',{staticClass:\"left-time\"},[_vm._v(_vm._s(_vm.player.items[_vm.player.maxItems - i].useTime === 99 ? '' : _vm.player.items[_vm.player.maxItems - i].useTime))]):_vm._e()])}),0),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleCower()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_heart.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleOpenMap()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_map.svg\"),\"alt\":\"\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"pop-message\"\n    v-show=\"isShow\">\n    <div class=\"box-message\">\n      <div class=\"text-center\">{{ content }}</div>\n      <div class=\"text-center\"\n        v-show=\"icons.length\"\n        style=\"margin-top: 12px;\">\n        <img class=\"message-icon\"\n          :class=\"[selectIndex === index && 'active']\"\n          v-for=\"(icon, index) in icons\" :key=\"index\"\n          :src=\"icon.image\" alt=\"\"\n          @click=\"handleSelect(index)\">\n      </div>\n      <div class=\"text-center\" style=\"margin-top: 12px;\">\n        <button class=\"primary-button\"\n          @click=\"handleConfirm()\">{{ confirmBtnText || '' }}</button>\n        <button class=\"default-button\"\n          style=\"margin-left: 12px;\"\n          v-show=\"cancelBtnText\"\n          @click=\"handleCancel()\">{{ cancelBtnText || '' }}</button>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\n\nlet msgQueue = []\n\nexport default {\n  data () {\n    return {\n      isShow: false,\n      confirmBtnText: '',\n      cancelBtnText: '', // use cancelBtnText content to control its' display\n      content: '',\n      icons: [],\n      selectable: false,\n      selectIndex: -1,\n      tag: ''\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessage', (params) => {\n      // params = {\n      //   message: '',\n      //   icons: [{}, {}, ...],\n      //   selectable: false,\n      //   confirmBtnText: '',\n      //   cancelBtnText: '',\n      //   tag: <any>,\n      // }\n      console.log('message', params)\n      if (this.isShow) {\n        msgQueue.push(params)\n      } else {\n        this.showMessage(params)\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessage')\n  },\n\n  methods: {\n    showMessage ({ message, confirmBtnText, cancelBtnText, icons, tag, selectable = false }) {\n      this.content = message || ''\n      this.icons = icons || []\n      this.confirmBtnText = confirmBtnText || ''\n      this.cancelBtnText = cancelBtnText || ''\n      this.tag = tag\n      this.selectable = selectable || false\n      this.isShow = true\n    },\n    handleSelect (index) {\n      if (this.selectable) {\n        this.selectIndex = index\n      }\n    },\n    handleConfirm () {\n      if (this.selectable && this.selectIndex === -1) {\n        return\n      }\n      eventBus.$emit('notifyMessageAction', {\n        action: 'confirm',\n        index: this.selectIndex,\n        tag: this.tag\n      })\n      if (this.tag && this.tag.source === 'restart') {\n        // restart, should clear dirty message queue\n        msgQueue = []\n      }\n      this.close()\n    },\n    handleCancel () {\n      eventBus.$emit('notifyMessageAction', {\n        action: 'cancel',\n        index: this.selectIndex,\n        tag: this.tag\n      })\n      this.close()\n    },\n    close () {\n      this.isShow = false\n      this.confirmBtnText = ''\n      this.cancelBtnText = ''\n      this.content = ''\n      this.icons = []\n      this.selectable = false\n      this.selectIndex = -1\n      this.tag = ''\n      if (msgQueue.length) {\n        const params = msgQueue.shift()\n        this.showMessage(params)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-message {\n  position: absolute;\n  z-index: 49;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  .box-message {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: 600px;\n    min-width: 400px;\n    padding: 18px;\n    border: 6px solid red;\n    border-radius: 12px;\n    background: #343434;\n    color: #fff;\n    font-size: 28px;\n    .message-icon {\n      width: 100px;\n      height: 100px;\n      border: 6px solid transparent;\n      border-radius: 8px;\n      transition: all 0.3s;\n      &:not(:last-of-type) {\n        margin-right: 12px;\n      }\n      &.active {\n        border: 6px solid red;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessagePop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessagePop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MessagePop.vue?vue&type=template&id=f7818bbc&scoped=true\"\nimport script from \"./MessagePop.vue?vue&type=script&lang=js\"\nexport * from \"./MessagePop.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessagePop.vue?vue&type=style&index=0&id=f7818bbc&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7818bbc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-message\"},[_c('div',{staticClass:\"box-message\"},[_c('div',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.content))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.icons.length),expression:\"icons.length\"}],staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},_vm._l((_vm.icons),function(icon,index){return _c('img',{key:index,staticClass:\"message-icon\",class:[_vm.selectIndex === index && 'active'],attrs:{\"src\":icon.image,\"alt\":\"\"},on:{\"click\":function($event){return _vm.handleSelect(index)}}})}),0),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},[_c('button',{staticClass:\"primary-button\",on:{\"click\":function($event){return _vm.handleConfirm()}}},[_vm._v(_vm._s(_vm.confirmBtnText || ''))]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cancelBtnText),expression:\"cancelBtnText\"}],staticClass:\"default-button\",staticStyle:{\"margin-left\":\"12px\"},on:{\"click\":function($event){return _vm.handleCancel()}}},[_vm._v(_vm._s(_vm.cancelBtnText || ''))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HappenBattle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HappenBattle.vue?vue&type=script&lang=js\"","<template>\n  <section class=\"pop-happen-battle\"\n    v-show=\"isShow\">\n    <div class=\"box-message\">\n      <div class=\"text-center box-zombies\">\n        <img class=\"zombie-image\"\n          v-for=\"(z) in count\" :key=\"z\"\n          src=\"@/assets/zombie.jpg\" alt=\"\">\n      </div>\n      <div class=\"text-center\"\n        style=\"margin-top: 12px;\">\n        {{ count }}\n      </div>\n      <div class=\"box-tabs\">\n        <div class=\"tab\"\n          :class=\"[tabIndex === 0 && 'active']\"\n          @click=\"tabIndex = 0\"></div>\n        <div class=\"tab\"\n          :class=\"[tabIndex === 1 && 'active']\"\n          @click=\"tabIndex = 1\"></div>\n        <div class=\"tab\"\n          :class=\"[tabIndex === 2 && 'active']\"\n          v-show=\"!disableRunAway\"\n          @click=\"tabIndex = 2\"></div>\n      </div>\n      <div class=\"box-action\">\n        <!--  -->\n        <div v-show=\"tabIndex === 0\">\n          <div v-show=\"weapons.length\">\n            \n            <div class=\"text-center\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-icon\"\n                :class=\"[selectIndex === index && 'active']\"\n                v-for=\"(w, index) in weapons\" :key=\"index\"\n                :src=\"w.image\" alt=\"\"\n                @click=\"handleSelect(index)\">\n            </div>\n            <div class=\"text-center\">\n              {{ player.atk }}+{{ activeWeapon.addAtk }} {{ activeWeapon.useTime === 99 ? '' : activeWeapon.useTime }}\n            </div>\n          </div>\n          <div class=\"text-center\"\n            v-show=\"!weapons.length\">\n            {{ player.atk }}\n          </div>\n        </div>\n        <!--  -->\n        <div v-show=\"tabIndex === 1\">\n          <div>\n            \n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('grenade')\"\n              @click=\"selectItem = 'grenade'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'grenade'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'grenade'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"@/assets/grenade.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('oil')\"\n              @click=\"selectItem = 'candle+oil'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'candle+oil'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'candle+oil'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"@/assets/candle.jpg\" alt=\"\">\n              +\n              <img class=\"item-icon\"\n                src=\"@/assets/oil.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('gasoline')\"\n              @click=\"selectItem = 'candle+gasoline'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'candle+gasoline'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'candle+gasoline'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"@/assets/candle.jpg\" alt=\"\">\n              +\n              <img class=\"item-icon\"\n                src=\"@/assets/gasoline.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('gasoline') && player.items.map(i=> i.key).includes('chainsaw')\"\n              @click=\"selectItem = 'gasoline+chainsaw'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'gasoline+chainsaw'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'gasoline+chainsaw'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"@/assets/gasoline.jpg\" alt=\"\">\n              +\n              <img class=\"item-icon\"\n                src=\"@/assets/chainsaw.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('soda')\"\n              @click=\"selectItem = 'soda'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'soda'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'soda'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"@/assets/soda.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center\">\n              {{ useItemDesc }}\n            </div>\n          </div>\n        </div>\n        <!--  -->\n        <div v-show=\"tabIndex === 2\">\n          <div v-show=\"player.items.map(i=> i.key).includes('oil')\">\n            \n            <div class=\"text-center box-item-choice\"\n              @click=\"selectItem === 'oil' ? selectItem = '' : selectItem = 'oil'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'oil'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'oil'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"@/assets/oil.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center\">\n              {{ ItemConfig.items.find(i => i.key === 'oil').desc }}\n            </div>\n          </div>\n          <div class=\"text-center\"\n            v-show=\"!player.items.map(i=> i.key).includes('oil')\">\n            {{ PlayerConfig.runAwayDamage }}\n          </div>\n        </div>\n      </div>\n      <div class=\"text-center\" style=\"margin-top: 12px;\">\n        <button class=\"primary-button\"\n          @click=\"handleConfirm()\"></button>\n        <!-- <button class=\"default-button\"\n          style=\"margin-left: 12px;\"\n          v-show=\"cancelBtnText\"\n          @click=\"handleCancel()\">{{ cancelBtnText || '' }}</button> -->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\nimport ItemConfig from '@/models/config/Item'\nimport PlayerConfig from '@/models/config/Player'\nimport { checkAlive, checkItems } from '@/ctrls/CommonCtrl'\n\nexport default {\n  data () {\n    return {\n      isShow: false,\n      count: 0,\n      tabIndex: 0,\n      selectIndex: 0,\n      selectItem: '',\n      disableRunAway: false,\n      tag: '',\n      player,\n      PlayerConfig,\n      ItemConfig\n    }\n  },\n  computed: {\n    weapons () {\n      if (this.player.items.length) {\n        return this.player.items.filter(i => i.type === 'weapon' && i.useTime > 0)\n      } else {\n        return []\n      }\n    },\n    activeWeapon () {\n      if (this.weapons.length && this.selectIndex >= 0) {\n        return this.weapons[this.selectIndex]\n      } else {\n        return {}\n      }\n    },\n    useItemDesc () {\n      if (this.selectItem) {\n        if (['candle+oil', 'candle+gasoline'].includes(this.selectItem)) {\n          return ''\n        } else if (this.selectItem === 'gasoline+chainsaw') {\n          return '2'\n        } else {\n          return ItemConfig.items.find(i => i.key === this.selectItem).desc\n        }\n      } else {\n        return ''\n      }\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyHappenBattle', (params) => {\n      // params = {\n      //   count: 0,\n      //   disableRunAway: false,\n      //   tag: <any>,\n      // }\n      this.happenBattle(params)\n    })\n    eventBus.$on('notifyMessageAction', ({ action, tag }) => {\n      if (action === 'confirm' && tag && tag.source === 'restart') {\n        this.close('restart')\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyHappenBattle')\n    eventBus.$off('notifyMessageAction')\n  },\n\n  methods: {\n    happenBattle ({ count, disableRunAway, tag }) {\n      this.count = count || 0\n      this.disableRunAway = disableRunAway\n      this.tag = tag\n      if (this.count) {\n        this.isShow = true\n      }\n    },\n    handleSelect (index) {\n      this.selectIndex = index\n    },\n    handleConfirm () {\n      if (this.tabIndex === 0) {\n        this.dealBattle()\n      } else if (this.tabIndex === 1 && this.selectItem && this.selectItem !== 'oil') {\n        this.dealUseItem()\n      } else if (this.tabIndex === 2) {\n        this.dealRunAway()\n      }\n    },\n    dealBattle () {\n      let weaponAtk = 0\n      if (this.activeWeapon.key && this.activeWeapon.useTime > 0) {\n        weaponAtk = this.activeWeapon.addAtk\n      }\n      const finalAtk = player.atk + weaponAtk\n      const damage = this.count - finalAtk\n      if (damage >= 0) {\n        player.hp -= damage\n        eventBus.$emit('notifyMessage', {\n          message: `-${damage}`\n        })\n        if (!checkAlive()) {\n          eventBus.$emit('notifyMessage', {\n            message: '',\n            confirmBtnText: '',\n            tag: {\n              source: 'restart'\n            }\n          })\n          return\n        }\n      }\n      this.activeWeapon.useTime !== 99 && this.activeWeapon.useTime > 0 && this.activeWeapon.useTime--\n      if (this.activeWeapon.useTime <= 0) {\n        checkItems()\n      }\n      this.close()\n    },\n    dealUseItem () {\n      switch (this.selectItem) {\n        case 'grenade': {\n          const targetIndex = player.items.findIndex(i => i.key === this.selectItem)\n          if (targetIndex >= 0) {\n            const item = player.items[targetIndex]\n            if (item.useTime > 0) {\n              if (item.useTime !== 99) {\n                item.useTime--\n              }\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n              this.close()\n            }\n          }\n          break\n        }\n        case 'candle+oil': {\n          const candleIndex = player.items.findIndex(i => i.key === 'candle')\n          const oilIndex = player.items.findIndex(i => i.key === 'oil')\n          if (candleIndex >= 0 && oilIndex >= 0) {\n            const candleItem = player.items[candleIndex]\n            const oilItem = player.items[oilIndex]\n            if (candleItem.useTime > 0 && oilItem.useTime > 0) {\n              if (candleItem.useTime !== 99) {\n                candleItem.useTime--\n              }\n              if (oilItem.useTime !== 99) {\n                oilItem.useTime--\n              }\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n              this.close()\n            }\n          }\n          break\n        }\n        case 'candle+gasoline': {\n          const candleIndex = player.items.findIndex(i => i.key === 'candle')\n          const gasolineIndex = player.items.findIndex(i => i.key === 'gasoline')\n          if (candleIndex >= 0 && gasolineIndex >= 0) {\n            const candleItem = player.items[candleIndex]\n            const gasolineItem = player.items[gasolineIndex]\n            if (candleItem.useTime > 0 && gasolineItem.useTime > 0) {\n              if (candleItem.useTime !== 99) {\n                candleItem.useTime--\n              }\n              if (gasolineItem.useTime !== 99) {\n                gasolineItem.useTime--\n              }\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n              this.close()\n            }\n          }\n          break\n        }\n        case 'gasoline+chainsaw': {\n          const gasolineIndex = player.items.findIndex(i => i.key === 'gasoline')\n          const chainsawIndex = player.items.findIndex(i => i.key === 'chainsaw')\n          if (gasolineIndex >= 0 && chainsawIndex >= 0) {\n            const gasolineItem = player.items[gasolineIndex]\n            const chainsawItem = player.items[chainsawIndex]\n            if (gasolineItem.useTime > 0) {\n              if (gasolineItem.useTime !== 99) {\n                gasolineItem.useTime--\n              }\n              chainsawItem.useTime !== 99 && (chainsawItem.useTime += 2)\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n            }\n          }\n          break\n        }\n        case 'soda': {\n          const sodaIndex = player.items.findIndex(i => i.key === this.selectItem)\n          if (sodaIndex >= 0) {\n            const sodaItem = player.items[sodaIndex]\n            if (sodaItem.useTime > 0) {\n              if (sodaItem.useTime !== 99) {\n                sodaItem.useTime--\n              }\n              player.hp += sodaItem.addHp\n              eventBus.$emit('notifyMessage', {\n                message: `${sodaItem.name}+${sodaItem.addHp}`\n              })\n              checkItems()\n            }\n          }\n          break\n        }\n      }\n    },\n    dealRunAway () {\n      const oilIndex = player.items.findIndex(i => i.key === 'oil')\n      if (this.selectItem === 'oil' && oilIndex >= 0) {\n        const oilItem = player.items[oilIndex]\n        if (oilItem.useTime > 0) {\n          if (oilItem.useTime !== 99) {\n            oilItem.useTime--\n          }\n          eventBus.$emit('notifyMessage', {\n            message: ''\n          })\n          checkItems()\n        }\n      } else {\n        player.hp -= PlayerConfig.runAwayDamage\n        if (!checkAlive()) {\n          eventBus.$emit('notifyMessage', {\n            message: '',\n            confirmBtnText: '',\n            tag: {\n              source: 'restart'\n            }\n          })\n          return\n        }\n      }\n      this.close('runAway')\n    },\n    close (result = 'win') {\n      if (result !== 'restart') {\n        eventBus.$emit('notifyBattleResult', {\n          result,\n          tag: this.tag\n        })\n      }\n      this.isShow = false\n      this.count = 0\n      this.tabIndex = 0\n      this.selectIndex = 0\n      this.selectItem = ''\n      this.disableRunAway = false\n      this.tag = ''\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-happen-battle {\n  position: absolute;\n  z-index: 43;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  .box-message {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 600px;\n    padding: 18px;\n    border: 6px solid red;\n    border-radius: 12px;\n    background: #343434;\n    color: #fff;\n    font-size: 28px;\n    .box-zombies {\n      background: rgb(191, 191, 189);\n      .zombie-image {\n        max-height: 200px;\n      }\n    }\n    .box-tabs {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 24px;\n      .tab {\n        width: 30%;\n        height: 60px;\n        line-height: 60px;\n        background: rgba(205, 175, 0, 0.4);\n        color: #000;\n        border-radius: 6px;\n        text-align: center;\n        transition: all 0.3s;\n        &.active {\n          background: rgba(205, 175, 0, 1);\n          color: #fff;\n        }\n      }\n    }\n    .box-action {\n      margin-top: 12px;\n      padding: 12px;\n      border: 4px solid rgba(205, 175, 0, 1);\n      border-radius: 6px;\n    }\n    .box-item-choice {\n      display: flex;\n      // justify-content: center;\n      align-items: center;\n      margin-left: 30px;\n    }\n    .item-radio {\n      width: 60px;\n      height: 60px;\n    }\n    .item-icon {\n      width: 100px;\n      height: 100px;\n      border: 6px solid transparent;\n      border-radius: 8px;\n      &:not(:last-of-type) {\n        margin-right: 12px;\n      }\n      &.active {\n        border: 6px solid red;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./HappenBattle.vue?vue&type=template&id=29f919d9&scoped=true\"\nimport script from \"./HappenBattle.vue?vue&type=script&lang=js\"\nexport * from \"./HappenBattle.vue?vue&type=script&lang=js\"\nimport style0 from \"./HappenBattle.vue?vue&type=style&index=0&id=29f919d9&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29f919d9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-happen-battle\"},[_c('div',{staticClass:\"box-message\"},[_c('div',{staticClass:\"text-center box-zombies\"},_vm._l((_vm.count),function(z){return _c('img',{key:z,staticClass:\"zombie-image\",attrs:{\"src\":require(\"@/assets/zombie.jpg\"),\"alt\":\"\"}})}),0),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},[_vm._v(\" \"+_vm._s(_vm.count)+\" \")]),_c('div',{staticClass:\"box-tabs\"},[_c('div',{staticClass:\"tab\",class:[_vm.tabIndex === 0 && 'active'],on:{\"click\":function($event){_vm.tabIndex = 0}}},[_vm._v(\"\")]),_c('div',{staticClass:\"tab\",class:[_vm.tabIndex === 1 && 'active'],on:{\"click\":function($event){_vm.tabIndex = 1}}},[_vm._v(\"\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disableRunAway),expression:\"!disableRunAway\"}],staticClass:\"tab\",class:[_vm.tabIndex === 2 && 'active'],on:{\"click\":function($event){_vm.tabIndex = 2}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"box-action\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabIndex === 0),expression:\"tabIndex === 0\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.weapons.length),expression:\"weapons.length\"}]},[_vm._v(\"  \"),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"6px\"}},_vm._l((_vm.weapons),function(w,index){return _c('img',{key:index,staticClass:\"item-icon\",class:[_vm.selectIndex === index && 'active'],attrs:{\"src\":w.image,\"alt\":\"\"},on:{\"click\":function($event){return _vm.handleSelect(index)}}})}),0),_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.player.atk)+\"+\"+_vm._s(_vm.activeWeapon.addAtk)+\" \"+_vm._s(_vm.activeWeapon.useTime === 99 ? '' : _vm.activeWeapon.useTime)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.weapons.length),expression:\"!weapons.length\"}],staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.player.atk)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabIndex === 1),expression:\"tabIndex === 1\"}]},[_c('div',[_vm._v(\"  \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('grenade')),expression:\"player.items.map(i=> i.key).includes('grenade')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'grenade'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'grenade'),expression:\"selectItem !== 'grenade'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'grenade'),expression:\"selectItem === 'grenade'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/grenade.jpg\"),\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('candle') && _vm.player.items.map(i=> i.key).includes('oil')),expression:\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('oil')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'candle+oil'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'candle+oil'),expression:\"selectItem !== 'candle+oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'candle+oil'),expression:\"selectItem === 'candle+oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/candle.jpg\"),\"alt\":\"\"}}),_vm._v(\" + \"),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/oil.jpg\"),\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('candle') && _vm.player.items.map(i=> i.key).includes('gasoline')),expression:\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('gasoline')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'candle+gasoline'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'candle+gasoline'),expression:\"selectItem !== 'candle+gasoline'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'candle+gasoline'),expression:\"selectItem === 'candle+gasoline'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/candle.jpg\"),\"alt\":\"\"}}),_vm._v(\" + \"),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/gasoline.jpg\"),\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('gasoline') && _vm.player.items.map(i=> i.key).includes('chainsaw')),expression:\"player.items.map(i=> i.key).includes('gasoline') && player.items.map(i=> i.key).includes('chainsaw')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'gasoline+chainsaw'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'gasoline+chainsaw'),expression:\"selectItem !== 'gasoline+chainsaw'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'gasoline+chainsaw'),expression:\"selectItem === 'gasoline+chainsaw'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/gasoline.jpg\"),\"alt\":\"\"}}),_vm._v(\" + \"),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/chainsaw.jpg\"),\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('soda')),expression:\"player.items.map(i=> i.key).includes('soda')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'soda'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'soda'),expression:\"selectItem !== 'soda'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'soda'),expression:\"selectItem === 'soda'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/soda.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.useItemDesc)+\" \")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabIndex === 2),expression:\"tabIndex === 2\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('oil')),expression:\"player.items.map(i=> i.key).includes('oil')\"}]},[_vm._v(\"  \"),_c('div',{staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem === 'oil' ? _vm.selectItem = '' : _vm.selectItem = 'oil'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'oil'),expression:\"selectItem !== 'oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'oil'),expression:\"selectItem === 'oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":require(\"@/assets/oil.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.ItemConfig.items.find(i => i.key === 'oil').desc)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.player.items.map(i=> i.key).includes('oil')),expression:\"!player.items.map(i=> i.key).includes('oil')\"}],staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.PlayerConfig.runAwayDamage)+\" \")])])]),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},[_c('button',{staticClass:\"primary-button\",on:{\"click\":function($event){return _vm.handleConfirm()}}},[_vm._v(\"\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"pop-map\"\n    v-show=\"isShow\">\n    <div class=\"box-map\">\n      <canvas id=\"map-canvas\" :width=\"width\" :height=\"height\"></canvas>\n    </div>\n    <div class=\"box-actions\">\n      <div class=\"icon-button\"\n        @click=\"handleZoom(0.25)\">\n        <img class=\"icon\" src=\"@/assets/icon_zoom_in.svg\" alt=\"\">\n      </div>\n      <div class=\"icon-button\"\n        @click=\"handleZoom(-0.25)\">\n        <img class=\"icon\" src=\"@/assets/icon_zoom_out.svg\" alt=\"\">\n      </div>\n      <div class=\"icon-button\"\n        @click=\"handleClose()\">\n        <img class=\"icon\" src=\"@/assets/icon_close.svg\" alt=\"\">\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\nimport system from '@/models/system'\n\nconst MinCanvasSize = 360 // min width and height of canvas\nconst RoomSize = 20\nconst RoomGap = 5\nconst DoorSize = 10\nconst MinRatio = 1.5\nconst MaxRatio = 3\nconst FontSize = 8\n\nexport default {\n  data () {\n    return {\n      isShow: false,\n      width: MinCanvasSize,\n      height: MinCanvasSize,\n      ratio: MinRatio,\n      canvas: null,\n      ctx: null\n    }\n  },\n\n  mounted () {\n    this.canvas = document.querySelector('#map-canvas')\n    this.ctx = this.canvas.getContext('2d')\n\n    eventBus.$on('notifyShowMap', () => {\n      this.showMap()\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyShowMap')\n  },\n\n  methods: {\n    showMap () {\n      this.isShow = true\n      this.drawMap()\n    },\n    drawMap () {\n      const data = [...system.map]\n      const coordX = [...new Set(data.map(r => r.x))]\n      const coordY = [...new Set(data.map(r => r.y))]\n      const startX = Math.min(...coordX)\n      const endX = Math.max(...coordX)\n      const startY = Math.min(...coordY)\n      const endY = Math.max(...coordY)\n      const columns = endX - startX + 1\n      const rows = endY - startY + 1\n      const mapSize = {\n        width: columns * (RoomSize + RoomGap) * this.ratio,\n        height: rows * (RoomSize + RoomGap) * this.ratio\n      }\n      let canvasStartX = 0\n      let canvasStartY = 0\n      if (mapSize.width > MinCanvasSize) {\n        this.width = mapSize.width\n        canvasStartX = 0\n      } else {\n        canvasStartX = (MinCanvasSize - mapSize.width) / 2\n      }\n      if (mapSize.height > MinCanvasSize) {\n        this.height = mapSize.height\n        canvasStartY = 0\n      } else {\n        canvasStartY = (MinCanvasSize - mapSize.height) / 2\n      }\n      // console.log(coordX, coordY)\n      // console.log(startX, endX, startY, endY)\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n      data.forEach(r => {\n        // draw room cell\n        this.ctx.fillStyle = 'red'\n        this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio, RoomSize * this.ratio, RoomSize * this.ratio)\n        // draw room entrances\n        this.ctx.fillStyle = 'white'\n        r.doors.forEach(d => {\n          const realDoorIndex = (d + r.rotate / 90) % 4\n          switch (realDoorIndex) {\n            case 0:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio, DoorSize * this.ratio, 3)\n              break\n            case 1:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + RoomSize * this.ratio - 3, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, 3, DoorSize * this.ratio)\n              break\n            case 2:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + RoomSize * this.ratio - 3, DoorSize * this.ratio, 3)\n              break\n            case 3:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, 3, DoorSize * this.ratio)\n              break\n          }\n        })\n        // draw now location or room name\n        if (player.x === r.x && player.y === r.y) {\n          this.ctx.fillStyle = 'gold'\n          this.ctx.beginPath()\n          this.ctx.arc(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + RoomSize / 2 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + RoomSize / 2 * this.ratio, RoomSize / 4 * this.ratio, 0, 2 * Math.PI)\n          this.ctx.fill()\n          this.ctx.closePath()\n        } else if (['foyer', 'kitchen', 'storage', 'evilTemple', 'garden', 'graveyard'].includes(r.key)) {\n          this.ctx.fillStyle = 'white'\n          this.ctx.font = `${FontSize * this.ratio}px serif`\n          this.ctx.fillText(r.name[0], canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + RoomSize / 4 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + RoomSize / 4 * this.ratio + FontSize * this.ratio, RoomSize / 2 * this.ratio)\n        }\n      })\n    },\n    handleZoom (ratio) {\n      if (this.ratio + ratio <= MaxRatio && this.ratio + ratio >= MinRatio) {\n        this.ratio += ratio\n        // console.log('ratio now is ', this.ratio)\n        this.drawMap()\n      }\n    },\n    handleClose () {\n      this.isShow = false\n      this.width = MinCanvasSize\n      this.height = MinCanvasSize\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-map {\n  position: absolute;\n  z-index: 45;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.9);\n  .box-map {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 720px;\n    height: 720px;\n    transform: translate(-50%, -50%);\n    border: 4px solid gray;\n    overflow: auto;\n  }\n  .box-actions {\n    display: flex;\n    justify-content: space-between;\n    align-items: end;\n    position: fixed;\n    z-index: 46;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    padding: 24px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapPop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapPop.vue?vue&type=script&lang=js\"","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","<template>\n  <section class=\"page-home\">\n    <start-pop></start-pop>\n\n    <top-panel></top-panel>\n\n    <!-- handle main display -->\n    <main-container\n      :room-data=\"displayedRooms\"></main-container>\n\n    <!-- handle actions -->\n    <action-container\n      :room-data=\"displayedRooms[4]\"></action-container>\n\n    <bottom-panel></bottom-panel>\n\n    <message-pop></message-pop>\n\n    <happen-battle-pop></happen-battle-pop>\n\n    <map-pop></map-pop>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport SystemConfig from '@/models/config/System'\nimport RoomConfig from '@/models/config/Room'\nimport PlayerConfig from '@/models/config/Player'\nimport ItemConfig from '@/models/config/Item'\nimport EventConfig from '@/models/config/Event'\nimport system from '@/models/system'\nimport player from '@/models/Player'\nimport { shuffle } from '@/utils/CommonUtil'\nimport StartPop from '@/components/StartPop'\nimport TopPanel from '@/components/TopPanel'\nimport MainContainer from '@/components/MainContainer'\nimport ActionContainer from '@/components/ActionContainer'\nimport BottomPanel from '@/components/BottomPanel'\nimport MessagePop from '@/components/MessagePop'\nimport HappenBattlePop from '@/components/HappenBattle'\nimport MapPop from '@/components/MapPop'\n\nexport default {\n  components: {\n    StartPop,\n    TopPanel,\n    MainContainer,\n    ActionContainer,\n    BottomPanel,\n    MessagePop,\n    HappenBattlePop,\n    MapPop\n  },\n\n  data () {\n    return {\n      displayedRooms: [\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 }\n      ]\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyStart', () => {\n      this.start()\n    })\n    eventBus.$on('notifyRedraw', () => {\n      this.draw()\n    })\n    eventBus.$on('notifyShuffleEvents', () => {\n      this.shuffleEvents()\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyStart')\n    eventBus.$off('notifyRedraw')\n    eventBus.$off('notifyShuffleEvents')\n  },\n\n  methods: {\n    start () {\n      this.initData()\n      this.draw()\n    },\n    initData () {\n      system.time = 0\n      system.events = []\n      system.indoors = []\n      system.outdoors = []\n      system.map = []\n      player.hp = PlayerConfig.baseHp\n      player.atk = PlayerConfig.baseAtk\n      player.x = 0\n      player.y = 0\n      player.gotTotem = false\n      player.buriedTotem = false\n      player.items = []\n      if (player.character === 'backpacker') {\n        player.maxItems = PlayerConfig.maxItems + PlayerConfig.backpackerExtraItems\n        player.items.push(ItemConfig.items.find(i => i.key === 'candle'))\n      } else {\n        player.maxItems = PlayerConfig.maxItems\n      }\n      if (player.character === 'sportgirl') {\n        player.items.push(ItemConfig.items.find(i => i.key === 'soda'))\n      } else if (player.character === 'oldman') {\n        player.items.push(ItemConfig.items.find(i => i.key === 'gasoline'))\n      } else if (player.character === 'soldier') {\n        player.items.push(ItemConfig.items.find(i => i.key === 'grenade'))\n      }\n      // console.log('player', player)\n      this.initRooms()\n      this.shuffleEvents(true)\n    },\n    initRooms () {\n      const toShuffleIndoors = []\n      RoomConfig.indoors.forEach(r => {\n        if (r.key === 'foyer') {\n          system.map.push({\n            ...r,\n            rotate: 0,\n            x: 0,\n            y: 0,\n            where: 'indoor'\n          })\n        } else {\n          toShuffleIndoors.push({\n            ...r,\n            where: 'indoor'\n          })\n        }\n      })\n      system.indoors = shuffle(toShuffleIndoors)\n      // console.log(system)\n    },\n    shuffleEvents (stopTimePass = false) {\n      if (!stopTimePass) {\n        system.time++\n        if (system.time >= SystemConfig.endTime) {\n          eventBus.$emit('notifyMessage', {\n            message: '12',\n            confirmBtnText: '',\n            tag: {\n              source: 'restart'\n            }\n          })\n          return\n        }\n      }\n      const toShuffleEvents = EventConfig.events.map(e => e)\n      system.events = shuffle(toShuffleEvents)\n      system.events.pop() // discard the first event\n      if (player.character !== 'sportgirl') {\n        // sport girl moves faster, keep 1 more available event\n        system.events.pop() // discard event again\n      }\n      // console.log(system)\n    },\n    draw () {\n      this.drawRooms()\n    },\n    drawRooms () {\n      this.displayedRooms = [\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 }\n      ]\n      system.map.forEach(r => {\n        if (r.x === player.x - 1 && r.y === player.y - 1) {\n          this.$set(this.displayedRooms, 0, { ...r })\n        } else if (r.x === player.x && r.y === player.y - 1) {\n          this.$set(this.displayedRooms, 1, { ...r })\n        } else if (r.x === player.x + 1 && r.y === player.y - 1) {\n          this.$set(this.displayedRooms, 2, { ...r })\n        } else if (r.x === player.x - 1 && r.y === player.y) {\n          this.$set(this.displayedRooms, 3, { ...r })\n        } else if (r.x === player.x && r.y === player.y) {\n          this.$set(this.displayedRooms, 4, { ...r })\n        } else if (r.x === player.x + 1 && r.y === player.y) {\n          this.$set(this.displayedRooms, 5, { ...r })\n        } else if (r.x === player.x - 1 && r.y === player.y + 1) {\n          this.$set(this.displayedRooms, 6, { ...r })\n        } else if (r.x === player.x && r.y === player.y + 1) {\n          this.$set(this.displayedRooms, 7, { ...r })\n        } else if (r.x === player.x + 1 && r.y === player.y + 1) {\n          this.$set(this.displayedRooms, 8, { ...r })\n        }\n      })\n      // console.log(this.displayedRooms)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.page-home {\n  position: relative;\n}\n</style>\n","import { render, staticRenderFns } from \"./MapPop.vue?vue&type=template&id=9edfb2e0&scoped=true\"\nimport script from \"./MapPop.vue?vue&type=script&lang=js\"\nexport * from \"./MapPop.vue?vue&type=script&lang=js\"\nimport style0 from \"./MapPop.vue?vue&type=style&index=0&id=9edfb2e0&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9edfb2e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-map\"},[_c('div',{staticClass:\"box-map\"},[_c('canvas',{attrs:{\"id\":\"map-canvas\",\"width\":_vm.width,\"height\":_vm.height}})]),_c('div',{staticClass:\"box-actions\"},[_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleZoom(0.25)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_zoom_in.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleZoom(-0.25)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_zoom_out.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleClose()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_close.svg\"),\"alt\":\"\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=41b5c19a&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=41b5c19a&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41b5c19a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"page-home\"},[_c('start-pop'),_c('top-panel'),_c('main-container',{attrs:{\"room-data\":_vm.displayedRooms}}),_c('action-container',{attrs:{\"room-data\":_vm.displayedRooms[4]}}),_c('bottom-panel'),_c('message-pop'),_c('happen-battle-pop'),_c('map-pop')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/home'\n    },\n    {\n      path: '/home',\n      name: 'home',\n      component: Home\n    }\n    // {\n    //   path: '/about',\n    //   name: 'about',\n    //   component: () => import(/* webpackChunkName: \"about\" */ './views/About.vue')\n    // }\n  ]\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nrequire('./assets/css/base.css')\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/zimp/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkzimp_h5\"] = self[\"webpackChunkzimp_h5\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2140); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","components","created","_c","this","_self","attrs","Vue","indoors","key","name","image","doors","outDoor","desc","addHp","outdoors","baseAtk","baseHp","maxHp","Number","POSITIVE_INFINITY","maxDamage","runAwayDamage","maxItems","backpackerExtraItems","sportgirlReduceDiscardEvents","items","type","addAtk","useTime","discardCount","events","timeEvents","zombies","item","sysName","time","map","character","hp","atk","x","y","gotTotem","buriedTotem","shuffle","toShuffle","toShuffleArray","JSON","parse","stringify","randomIndexs","numberUtil","multiRandom","length","result","forEach","index","push","staticRenderFns","staticClass","require","_vm","_v","PlayerMap","characterDescMap","data","isShow","selectedPlayer","computed","characterDesc","mounted","eventBus","$on","action","tag","source","beforeDestroy","$off","methods","togglePlayer","val","start","player","$emit","directives","rawName","value","expression","_m","_s","class","on","$event","staticStyle","clockMap","system","nowClock","charMap","backpacker","sportgirl","oldman","soldier","props","roomData","Array","required","playerChar","rotate","checkAlive","checkWinGame","checkItems","splice","hasValidEntrance","hasFlag","r","realDoorIndex","i","findIndex","tr","includes","Object","isRotateNewRoomShow","rotateDeg","newRoom","isRunAwayShow","runAwayRooms","newLocation","where","phase","postEvent","dealBreakIn","dealRoomStory","newItem","visitedRooms","getVisitedRooms","count","upRoom","find","downRoom","leftRoom","rightRoom","up","down","left","right","dealRunAway","message","confirmBtnText","enter","doorIndex","headToLocation","getHeadToLocation","from","rotateIndexChange","toShuffleOutdoors","patio","RoomConfig","dealNewRoom","pop","room","location","confirmRotate","dealEvent","dealItem","dealSpecialEvent","dealFetchTotem","dealFinishGame","toDealEvent","cancelBtnText","stayedRoom","dealFinalEvent","disableRunAway","isSpecialItem","event","toDealItem","ItemConfig","icons","dealDropItem","selectable","breakInIndex","getBreakInEntrance","currentRoom","currentRoomIndex","newRoomData","SystemConfig","_e","dealCower","cowerRecover","handleUseItem","chainsawIndex","chainsawItem","handleCower","recoverHp","handleOpenMap","_l","msgQueue","content","selectIndex","params","showMessage","handleSelect","handleConfirm","close","handleCancel","shift","icon","tabIndex","selectItem","PlayerConfig","weapons","filter","activeWeapon","useItemDesc","happenBattle","dealBattle","dealUseItem","weaponAtk","finalAtk","damage","targetIndex","candleIndex","oilIndex","candleItem","oilItem","gasolineIndex","gasolineItem","sodaIndex","sodaItem","z","w","MinCanvasSize","RoomSize","DoorSize","width","height","ratio","canvas","ctx","document","querySelector","getContext","showMap","drawMap","coordX","Set","coordY","startX","Math","min","endX","max","startY","rows","mapSize","canvasStartX","canvasStartY","clearRect","fillStyle","fillRect","d","beginPath","arc","PI","fill","closePath","font","fillText","handleZoom","handleClose","StartPop","TopPanel","MainContainer","ActionContainer","BottomPanel","MessagePop","HappenBattlePop","MapPop","displayedRooms","draw","shuffleEvents","initData","initRooms","toShuffleIndoors","stopTimePass","toShuffleEvents","EventConfig","e","drawRooms","$set","use","Router","routes","path","redirect","component","Home","config","productionTip","router","render","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}