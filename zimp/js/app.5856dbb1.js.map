{"version":3,"file":"js/app.5856dbb1.js","mappings":"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","sources":["webpack://zimp-h5/webpack/runtime/chunk loaded","webpack://zimp-h5/./src/App.vue?c036","webpack://zimp-h5/src/App.vue","webpack://zimp-h5/./src/App.vue?0e40","webpack://zimp-h5/./src/App.vue","webpack://zimp-h5/./src/EventBus.js","webpack://zimp-h5/./src/models/config/System.js","webpack://zimp-h5/./src/models/config/Room.js","webpack://zimp-h5/./src/models/config/Player.js","webpack://zimp-h5/./src/models/config/Item.js","webpack://zimp-h5/./src/models/config/Event.js","webpack://zimp-h5/./src/models/system.js","webpack://zimp-h5/./src/models/Player.js","webpack://zimp-h5/./src/utils/CommonUtil.js","webpack://zimp-h5/src/components/StartPop.vue","webpack://zimp-h5/./src/components/StartPop.vue?e241","webpack://zimp-h5/./src/components/StartPop.vue?c374","webpack://zimp-h5/./src/components/StartPop.vue","webpack://zimp-h5/src/components/TopPanel.vue","webpack://zimp-h5/./src/components/TopPanel.vue?3de4","webpack://zimp-h5/./src/components/TopPanel.vue?2f77","webpack://zimp-h5/./src/components/TopPanel.vue","webpack://zimp-h5/src/components/MainContainer.vue","webpack://zimp-h5/./src/components/MainContainer.vue?defd","webpack://zimp-h5/./src/components/MainContainer.vue?a6b0","webpack://zimp-h5/./src/components/MainContainer.vue","webpack://zimp-h5/./src/ctrls/CommonCtrl.js","webpack://zimp-h5/src/components/ActionContainer.vue","webpack://zimp-h5/./src/components/ActionContainer.vue?e911","webpack://zimp-h5/./src/components/ActionContainer.vue?ba47","webpack://zimp-h5/./src/components/ActionContainer.vue","webpack://zimp-h5/./src/components/BottomPanel.vue?f79b","webpack://zimp-h5/src/components/BottomPanel.vue","webpack://zimp-h5/./src/components/BottomPanel.vue?2e75","webpack://zimp-h5/./src/components/BottomPanel.vue","webpack://zimp-h5/src/components/MessagePop.vue","webpack://zimp-h5/./src/components/MessagePop.vue?b4c9","webpack://zimp-h5/./src/components/MessagePop.vue?761d","webpack://zimp-h5/./src/components/MessagePop.vue","webpack://zimp-h5/./src/components/HappenBattle.vue?735b","webpack://zimp-h5/src/components/HappenBattle.vue","webpack://zimp-h5/./src/components/HappenBattle.vue?0f16","webpack://zimp-h5/./src/components/HappenBattle.vue","webpack://zimp-h5/src/components/MapPop.vue","webpack://zimp-h5/./src/components/MapPop.vue?6748","webpack://zimp-h5/./src/views/Home.vue?a787","webpack://zimp-h5/src/views/Home.vue","webpack://zimp-h5/./src/components/MapPop.vue?8326","webpack://zimp-h5/./src/components/MapPop.vue","webpack://zimp-h5/./src/views/Home.vue?8611","webpack://zimp-h5/./src/views/Home.vue","webpack://zimp-h5/./src/router.js","webpack://zimp-h5/./src/main.js","webpack://zimp-h5/webpack/bootstrap","webpack://zimp-h5/webpack/runtime/define property getters","webpack://zimp-h5/webpack/runtime/global","webpack://zimp-h5/webpack/runtime/hasOwnProperty shorthand","webpack://zimp-h5/webpack/runtime/make namespace object","webpack://zimp-h5/webpack/runtime/publicPath","webpack://zimp-h5/webpack/runtime/jsonp chunk loading","webpack://zimp-h5/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\n// import ToastMsg from '@youngbeen/angle-vue-component/ToastMsg.vue'\n\nexport default {\n  components: {\n    // ToastMsg\n  },\n  created () {\n    // eslint-disable-next-line no-undef\n    // window.$pageSpy = new PageSpy()\n  }\n}\n</script>\n\n<style lang=\"less\">\nhtml, body {\n  min-height: 100%;\n}\n#app {\n  position: relative;\n  // font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  // -webkit-font-smoothing: antialiased;\n  // -moz-osx-font-smoothing: grayscale;\n  // text-align: center;\n  // color: #2c3e50;\n}\n.primary-button {\n  height: 68px;\n  line-height: 68px;\n  padding: 0 12px;\n  color: #fff;\n  background: red;\n  border: none;\n  border-radius: 8px;\n  font-size: 28px;\n}\n.default-button {\n  height: 68px;\n  line-height: 68px;\n  padding: 0 12px;\n  color: #fff;\n  background: rgb(95, 95, 95);\n  border: none;\n  border-radius: 8px;\n  font-size: 28px;\n}\n.icon-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  height: 100px;\n  border-radius: 100%;\n  background: rgba(red, 0.8);\n  color: #fff;\n  .icon {\n    width: 50px;\n    height: 50px;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=021c84f4\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=021c84f4&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\n\n/* eslint-disable no-new */\nconst bus = new Vue()\nexport default bus\n","export default {\n  endTime: 3, // the ending time clock, 0/1/2/3 index => time clock 9/10/11/12\n  breakInCount: 3 // how many zombies break in\n}\n","// import defaultImage from '@/assets/place_image.jpg'\n\nexport default {\n  indoors: [\n    {\n      key: 'foyer',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/foyer.jpg',\n      doors: [0], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'bathroom',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/bathroom.jpg',\n      doors: [0], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'kitchen',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/kitchen.jpg',\n      doors: [0, 1, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '1',\n      addHp: 1\n    },\n    {\n      key: 'storage',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/storage.jpg',\n      doors: [0], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '1',\n      addHp: 0\n    },\n    {\n      key: 'evilTemple',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/evilTemple.jpg',\n      doors: [1, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'familyRoom',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/familyRoom.jpg',\n      doors: [0, 1, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'diningRoom',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/diningRoom.jpg',\n      doors: [0, 1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [0], // the door to outside yard\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'bedroom',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/bedroom.jpg',\n      doors: [0, 3], // 0: up, 1: right, 2: down, 3: left\n      outDoor: [], // the door to outside yard\n      desc: '',\n      addHp: 0\n    }\n  ],\n  outdoors: [\n    {\n      key: 'patio',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/patio.jpg',\n      doors: [0, 1, 2], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'garden',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/garden.jpg',\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '1',\n      addHp: 1\n    },\n    {\n      key: 'sittingArea',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/sittingArea.jpg',\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'yard1',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/yard1.jpg',\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'yard2',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/yard2.jpg',\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'yard3',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/yard3.jpg',\n      doors: [1, 2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'graveyard',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/graveyard.jpg',\n      doors: [1, 2], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    },\n    {\n      key: 'garage',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/garage.jpg',\n      doors: [2, 3], // 0: up, 1: right, 2: down, 3: left\n      desc: '',\n      addHp: 0\n    }\n  ]\n}\n","export default {\n  baseAtk: 1, // the base ATK\n  baseHp: 6,\n  maxHp: Number.POSITIVE_INFINITY, // in original design, there's no upper limit of HP\n  maxDamage: 4, // the max damage received in one battle\n  runAwayDamage: 1, // the damage received when run away\n  maxItems: 2, // the max items can keep\n  backpackerExtraItems: 1, // backpacker can take extra items\n  sportgirlReduceDiscardEvents: 1 // sportgirl moves faster, thus time passes slowly, when shuffle events can reduce the discard event\n}\n","export default {\n  items: [\n    {\n      key: 'oil',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/oil.jpg',\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '',\n      useTime: 1\n    },\n    {\n      key: 'gasoline',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/gasoline.jpg',\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '2',\n      useTime: 1\n    },\n    {\n      key: 'board',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/board.jpg',\n      type: 'weapon',\n      addAtk: 1,\n      addHp: 0,\n      desc: '1',\n      useTime: 99\n    },\n    {\n      key: 'bone',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/bone.jpg',\n      type: 'weapon',\n      addAtk: 2,\n      addHp: 0,\n      desc: '21',\n      useTime: 99\n    },\n    {\n      key: 'golf',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/golf.jpg',\n      type: 'weapon',\n      addAtk: 1,\n      addHp: 0,\n      desc: '1',\n      useTime: 99\n    },\n    {\n      key: 'chainsaw',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/chainsaw.jpg',\n      type: 'weapon',\n      addAtk: 3,\n      addHp: 0,\n      desc: '3',\n      useTime: 2\n    },\n    {\n      key: 'machete',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/machete.jpg',\n      type: 'weapon',\n      addAtk: 2,\n      addHp: 0,\n      desc: '2',\n      useTime: 99\n    },\n    {\n      key: 'soda',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/soda.jpg',\n      type: 'item',\n      addAtk: 0,\n      addHp: 2,\n      desc: '2',\n      useTime: 1\n    },\n    {\n      key: 'candle',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/candle.jpg',\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '/',\n      useTime: 1\n    },\n    {\n      key: 'grenade',\n      name: '',\n      image: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/grenade.jpg',\n      type: 'item',\n      addAtk: 0,\n      addHp: 0,\n      desc: '',\n      useTime: 1\n    }\n  ]\n}\n","export default {\n  discardCount: 2, // discard how many events after shuffling. the bigger the faster time passing, which means more harder\n  events: [\n    {\n      timeEvents: [\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 6,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'oil'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: '...'\n        },\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'gasoline'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        }\n      ],\n      item: 'board'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 6,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'machete'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 5,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        }\n      ],\n      item: 'bone'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: -1,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'golf'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'battle',\n          zombies: 3,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 5,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'chainsaw'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: 1,\n          desc: ''\n        },\n        {\n          key: 'getItem',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'soda'\n    },\n    {\n      timeEvents: [\n        {\n          key: 'msg',\n          zombies: 0,\n          addHp: 0,\n          desc: ''\n        },\n        {\n          key: 'effect',\n          zombies: 0,\n          addHp: 1,\n          desc: ''\n        },\n        {\n          key: 'battle',\n          zombies: 4,\n          addHp: 0,\n          desc: ''\n        }\n      ],\n      item: 'candle'\n    }\n  ]\n}\n","export default {\n  sysName: 'zimp-h5', // \n  // system using, do NOT change\n  time: 0, // 0/1/2/3 index => time clock 9/10/11/12\n  events: [], // event LIST to be finished\n  indoors: [], // indoor LIST to be visited\n  outdoors: [], // outdoor LIST to be visited\n  map: [\n    // {\n    //   x: 0,\n    //   y: 0,\n    //   rotate: 0,\n    //   where: 'indoor/outdoor',\n    //   key: '',\n    //   name: '',\n    //   image: '',\n    //   desc: '',\n    // }\n  ] // map data\n}\n","export default {\n  character: '', // backpacker/sportgirl/oldman/soldier\n  hp: 0,\n  atk: 0,\n  x: 0, // location x on the map\n  y: 0, // location y on the map\n  gotTotem: false,\n  buriedTotem: false,\n  maxItems: 0,\n  items: [\n    // {\n    //   ...\n    // }\n  ]\n}\n","import { numberUtil } from '@youngbeen/angle-util'\n\nexport const shuffle = (toShuffle) => {\n  const toShuffleArray = JSON.parse(JSON.stringify(toShuffle))\n  const randomIndexs = numberUtil.multiRandom(toShuffleArray.length, toShuffleArray.length - 1, 0)\n  const result = []\n  randomIndexs.forEach(index => {\n    result.push(toShuffleArray[index])\n  })\n  return result\n}\n\nexport const getHeadToLocation = (from, doorIndex) => {\n  // use rotate and door index to calculating the target location\n  let rotateIndexChange = 0\n  switch (from.rotate) {\n    case 90:\n      rotateIndexChange = 1\n      break\n    case 180:\n      rotateIndexChange = 2\n      break\n    case 270:\n      rotateIndexChange = 3\n      break\n    default:\n      rotateIndexChange = 0\n  }\n  switch ((doorIndex + rotateIndexChange) % 4) {\n    case 0:\n      // move up\n      return {\n        x: from.x,\n        y: from.y - 1\n      }\n    case 1:\n      // move right\n      return {\n        x: from.x + 1,\n        y: from.y\n      }\n    case 2:\n      // move down\n      return {\n        x: from.x,\n        y: from.y + 1\n      }\n    case 3:\n      // move left\n      return {\n        x: from.x - 1,\n        y: from.y\n      }\n  }\n}\n","<template>\n  <section class=\"pop-start\"\n    v-show=\"isShow\">\n    <div class=\"box-logo\">\n      <img src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/game_logo.png\" alt=\"\">\n    </div>\n    <div class=\"primary-red\">Web Edition</div>\n    <div class=\"box-creator\">\n      <div class=\"text-center\">Jeremiah LeeYoungbeen</div>\n      <div class=\"text-center\">All game program copyright reserved by Youngbeen 2024-present</div>\n    </div>\n    <div class=\"desc style-font\" :data-content=\"desc\">\n      {{ desc }}\n    </div>\n    <div class=\"select-player text-center\">\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '1' && 'active']\"\n        @click=\"togglePlayer('1')\">\n        <img class=\"avatar\" src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_backpacker.jpg\" alt=\"\">\n      </div>\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '2' && 'active']\"\n        @click=\"togglePlayer('2')\">\n        <img class=\"avatar\" src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_sportgirl.jpg\" alt=\"\">\n      </div>\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '3' && 'active']\"\n        @click=\"togglePlayer('3')\">\n        <img class=\"avatar\" src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_oldman.jpg\" alt=\"\">\n      </div>\n      <div class=\"box-player\"\n        :class=\"[selectedPlayer === '4' && 'active']\"\n        @click=\"togglePlayer('4')\">\n        <img class=\"avatar\" src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_soldier.jpg\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"char-desc\">\n      {{ characterDesc }}\n    </div>\n    <div class=\"text-center\" style=\"margin-top: 40px;\">\n      <button class=\"primary-button start-button\"\n        @click=\"start()\"></button>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\n\nconst PlayerMap = {\n  1: 'backpacker',\n  2: 'sportgirl',\n  3: 'oldman',\n  4: 'soldier'\n}\nconst characterDescMap = {\n  1: '',\n  2: '',\n  3: '',\n  4: ''\n}\nexport default {\n  data () {\n    return {\n      isShow: true,\n      desc: '12...',\n      selectedPlayer: '1'\n    }\n  },\n  computed: {\n    characterDesc () {\n      return characterDescMap[this.selectedPlayer]\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessageAction', ({ action, tag }) => {\n      if (action === 'confirm' && tag && tag.source === 'restart') {\n        this.isShow = true\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessageAction')\n  },\n\n  methods: {\n    togglePlayer (val) {\n      this.selectedPlayer = val\n    },\n    start () {\n      player.character = PlayerMap[this.selectedPlayer]\n      this.isShow = false\n      this.selectedPlayer = '1'\n      eventBus.$emit('notifyStart')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-start {\n  position: fixed;\n  z-index: 41;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: #000;\n  color: #fff;\n}\n.box-logo {\n  margin-top: 100px;\n  text-align: center;\n  img {\n    width: 400px;\n  }\n}\n.primary-red {\n  color: red;\n  text-align: center;\n  font-size: 40px;\n}\n.box-creator {\n  padding: 24px 48px;\n  color: #8d8d8d;\n}\n.desc {\n  // margin-top: 40px;\n  padding: 24px 48px;\n  color: red;\n  font-size: 28px;\n}\n.select-player {\n  .box-player {\n    display: inline-block;\n    padding: 8px;\n    border: 6px solid transparent;\n    border-radius: 12px;\n    opacity: 0.7;\n    overflow: hidden;\n    transition: all 0.3s;\n    &.active {\n      border: 6px solid red;\n      opacity: 1;\n    }\n    .avatar {\n      width: 140px;\n      height: 140px;\n      border-radius: 8px;\n    }\n  }\n}\n.char-desc {\n  padding: 24px 48px;\n  font-size: 26px;\n}\n.start-button {\n  width: 400px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StartPop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StartPop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StartPop.vue?vue&type=template&id=f4d456fa&scoped=true\"\nimport script from \"./StartPop.vue?vue&type=script&lang=js\"\nexport * from \"./StartPop.vue?vue&type=script&lang=js\"\nimport style0 from \"./StartPop.vue?vue&type=style&index=0&id=f4d456fa&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f4d456fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-start\"},[_vm._m(0),_c('div',{staticClass:\"primary-red\"},[_vm._v(\"Web Edition\")]),_vm._m(1),_c('div',{staticClass:\"desc style-font\",attrs:{\"data-content\":_vm.desc}},[_vm._v(\" \"+_vm._s(_vm.desc)+\" \")]),_c('div',{staticClass:\"select-player text-center\"},[_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '1' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('1')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_backpacker.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '2' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('2')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_sportgirl.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '3' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('3')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_oldman.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"box-player\",class:[_vm.selectedPlayer === '4' && 'active'],on:{\"click\":function($event){return _vm.togglePlayer('4')}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_soldier.jpg\",\"alt\":\"\"}})])]),_c('div',{staticClass:\"char-desc\"},[_vm._v(\" \"+_vm._s(_vm.characterDesc)+\" \")]),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"40px\"}},[_c('button',{staticClass:\"primary-button start-button\",on:{\"click\":function($event){return _vm.start()}}},[_vm._v(\"\")])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box-logo\"},[_c('img',{attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/game_logo.png\",\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box-creator\"},[_c('div',{staticClass:\"text-center\"},[_vm._v(\"Jeremiah LeeYoungbeen\")]),_c('div',{staticClass:\"text-center\"},[_vm._v(\"All game program copyright reserved by Youngbeen 2024-present\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"comp-top-panel\">\n    <div class=\"box-hp\">\n      <div class=\"label text-center\"></div>\n      <div class=\"text text-center style-font\">{{ player.hp }}</div>\n    </div>\n    <div class=\"box-time\">\n      <div class=\"label text-center\"></div>\n      <div class=\"text text-center style-font\">{{ nowClock }}{{ system.events.length }}</div>\n    </div>\n    <div class=\"box-totem-status\">\n      <div class=\"label text-center\"></div>\n      <div class=\"text text-center style-font\">{{ player.gotTotem ? '' : '' }}</div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport player from '@/models/Player'\nimport system from '@/models/system'\n\nconst clockMap = [\n  '9:00 PM',\n  '10:00 PM',\n  '11:00 PM',\n  '12:00 PM'\n]\n\nexport default {\n  data () {\n    return {\n      player,\n      system\n    }\n  },\n\n  computed: {\n    nowClock () {\n      return clockMap[this.system.time]\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-top-panel {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  z-index: 20;\n  left: 24px;\n  top: 24px;\n  right: 24px;\n  padding: 24px;\n  border: 4px solid red;\n  border-radius: 6px;\n  background: rgba(0, 0, 0, 0.9);\n  .label {\n    margin-bottom: 6px;\n    color: #fff;\n  }\n  .text {\n    color: red;\n    font-size: 34px;\n    font-weight: bold;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TopPanel.vue?vue&type=template&id=15930bbf&scoped=true\"\nimport script from \"./TopPanel.vue?vue&type=script&lang=js\"\nexport * from \"./TopPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./TopPanel.vue?vue&type=style&index=0&id=15930bbf&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15930bbf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-top-panel\"},[_c('div',{staticClass:\"box-hp\"},[_c('div',{staticClass:\"label text-center\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text text-center style-font\"},[_vm._v(_vm._s(_vm.player.hp))])]),_c('div',{staticClass:\"box-time\"},[_c('div',{staticClass:\"label text-center\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text text-center style-font\"},[_vm._v(_vm._s(_vm.nowClock)+\"\"+_vm._s(_vm.system.events.length)+\"\")])]),_c('div',{staticClass:\"box-totem-status\"},[_c('div',{staticClass:\"label text-center\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text text-center style-font\"},[_vm._v(_vm._s(_vm.player.gotTotem ? '' : ''))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"comp-main-container\">\n    <div class=\"layer-rooms\">\n      <div class=\"room room-0\"\n        v-show=\"roomData[0].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[0].rotate && ('rotate-' + roomData[0].rotate)]\"\n          :src=\"roomData[0].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[0].key }}</div> -->\n      </div>\n      <div class=\"room room-1\"\n        v-show=\"roomData[1].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[1].rotate && ('rotate-' + roomData[1].rotate)]\"\n          :src=\"roomData[1].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[1].key }}</div> -->\n      </div>\n      <div class=\"room room-2\"\n        v-show=\"roomData[2].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[2].rotate && ('rotate-' + roomData[2].rotate)]\"\n          :src=\"roomData[2].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[2].key }}</div> -->\n      </div>\n\n      <div class=\"room room-3\"\n        v-show=\"roomData[3].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[3].rotate && ('rotate-' + roomData[3].rotate)]\"\n          :src=\"roomData[3].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[3].key }}</div> -->\n      </div>\n      <div class=\"room center-room\"\n        v-show=\"roomData[4].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[4].rotate && ('rotate-' + roomData[4].rotate)]\"\n          :src=\"roomData[4].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[4].key }}</div> -->\n        <img class=\"player\"\n          :src=\"playerChar\" alt=\"\">\n      </div>\n      <div class=\"room room-5\"\n        v-show=\"roomData[5].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[5].rotate && ('rotate-' + roomData[5].rotate)]\"\n          :src=\"roomData[5].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[5].key }}</div> -->\n      </div>\n\n      <div class=\"room room-6\"\n        v-show=\"roomData[6].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[6].rotate && ('rotate-' + roomData[6].rotate)]\"\n          :src=\"roomData[6].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[6].key }}</div> -->\n      </div>\n      <div class=\"room room-7\"\n        v-show=\"roomData[7].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[7].rotate && ('rotate-' + roomData[7].rotate)]\"\n          :src=\"roomData[7].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[7].key }}</div> -->\n      </div>\n      <div class=\"room room-8\"\n        v-show=\"roomData[8].key\">\n        <img class=\"room-image\"\n          :class=\"[roomData[8].rotate && ('rotate-' + roomData[8].rotate)]\"\n          :src=\"roomData[8].image\" alt=\"\">\n        <!-- <div class=\"room-info\">{{ roomData[8].key }}</div> -->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport player from '@/models/Player'\n\nconst charMap = {\n  backpacker: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_backpacker.jpg',\n  sportgirl: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_sportgirl.jpg',\n  oldman: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_oldman.jpg',\n  soldier: 'https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/char_soldier.jpg'\n}\n\nexport default {\n  props: {\n    roomData: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      player\n    }\n  },\n\n  computed: {\n    playerChar () {\n      if (this.player.character) {\n        return charMap[this.player.character]\n      } else {\n        return ''\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-main-container {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  background: #000;\n  overflow: hidden;\n  .layer-rooms {\n    position: absolute;\n    z-index: 1;\n    left: calc((100% - 900px - 16px) / 2);\n    top: calc((100% - 900px - 16px) / 2);\n    width: 916px;\n    height: 916px;\n    overflow: hidden;\n  }\n  .room {\n    position: absolute;\n    z-index: 2;\n    .room-image {\n      width: 300px;\n      height: 300px;\n      // transition: all 0.3s;\n    }\n    .room-info {\n      position: absolute;\n      z-index: 3;\n      right: 12px;\n      bottom: 12px;\n    }\n    .player {\n      position: absolute;\n      z-index: 4;\n      left: 100px;\n      top: 100px;\n      width: 100px;\n      height: 100px;\n      border-radius: 100%;\n      border: 6px solid red;\n      box-shadow: 4px 4px 12px #494949;\n    }\n  }\n  .room-0 {\n    left: 0;\n    top: 0;\n  }\n  .room-1 {\n    left: 308px;\n    top: 0;\n  }\n  .room-2 {\n    left: 616px;\n    top: 0;\n  }\n  .room-3 {\n    left: 0;\n    top: 308px;\n  }\n  .center-room {\n    left: 308px;\n    top: 308px;\n  }\n  .room-5 {\n    left: 616px;\n    top: 308px;\n  }\n  .room-6 {\n    left: 0;\n    top: 616px;\n  }\n  .room-7 {\n    left: 308px;\n    top: 616px;\n  }\n  .room-8 {\n    left: 616px;\n    top: 616px;\n  }\n  .rotate-90 {\n    transform: rotate(90deg);\n  }\n  .rotate-180 {\n    transform: rotate(180deg);\n  }\n  .rotate-270 {\n    transform: rotate(270deg);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainContainer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainContainer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MainContainer.vue?vue&type=template&id=8b011e32&scoped=true\"\nimport script from \"./MainContainer.vue?vue&type=script&lang=js\"\nexport * from \"./MainContainer.vue?vue&type=script&lang=js\"\nimport style0 from \"./MainContainer.vue?vue&type=style&index=0&id=8b011e32&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b011e32\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-main-container\"},[_c('div',{staticClass:\"layer-rooms\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[0].key),expression:\"roomData[0].key\"}],staticClass:\"room room-0\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[0].rotate && ('rotate-' + _vm.roomData[0].rotate)],attrs:{\"src\":_vm.roomData[0].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[1].key),expression:\"roomData[1].key\"}],staticClass:\"room room-1\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[1].rotate && ('rotate-' + _vm.roomData[1].rotate)],attrs:{\"src\":_vm.roomData[1].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[2].key),expression:\"roomData[2].key\"}],staticClass:\"room room-2\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[2].rotate && ('rotate-' + _vm.roomData[2].rotate)],attrs:{\"src\":_vm.roomData[2].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[3].key),expression:\"roomData[3].key\"}],staticClass:\"room room-3\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[3].rotate && ('rotate-' + _vm.roomData[3].rotate)],attrs:{\"src\":_vm.roomData[3].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[4].key),expression:\"roomData[4].key\"}],staticClass:\"room center-room\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[4].rotate && ('rotate-' + _vm.roomData[4].rotate)],attrs:{\"src\":_vm.roomData[4].image,\"alt\":\"\"}}),_c('img',{staticClass:\"player\",attrs:{\"src\":_vm.playerChar,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[5].key),expression:\"roomData[5].key\"}],staticClass:\"room room-5\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[5].rotate && ('rotate-' + _vm.roomData[5].rotate)],attrs:{\"src\":_vm.roomData[5].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[6].key),expression:\"roomData[6].key\"}],staticClass:\"room room-6\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[6].rotate && ('rotate-' + _vm.roomData[6].rotate)],attrs:{\"src\":_vm.roomData[6].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[7].key),expression:\"roomData[7].key\"}],staticClass:\"room room-7\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[7].rotate && ('rotate-' + _vm.roomData[7].rotate)],attrs:{\"src\":_vm.roomData[7].image,\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.roomData[8].key),expression:\"roomData[8].key\"}],staticClass:\"room room-8\"},[_c('img',{staticClass:\"room-image\",class:[_vm.roomData[8].rotate && ('rotate-' + _vm.roomData[8].rotate)],attrs:{\"src\":_vm.roomData[8].image,\"alt\":\"\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import player from '@/models/Player'\nimport system from '@/models/system'\n\nexport const checkAlive = () => {\n  if (player.hp > 0) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const checkWinGame = () => {\n  if (player.buriedTotem && player.hp > 0) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport const checkItems = () => {\n  for (let index = player.items.length - 1; index >= 0; index--) {\n    const item = player.items[index]\n    if (item.useTime <= 0 && item.key !== 'chainsaw') {\n      player.items.splice(index, 1)\n    }\n  }\n}\n\nexport const hasValidEntrance = () => {\n  let hasFlag = false\n  for (let index = 0; index < system.map.length; index++) {\n    const r = system.map[index]\n    const realDoorIndex = r.doors.map(i => {\n      return (i + r.rotate / 90) % 4\n    })\n    const up = system.map.findIndex(tr => tr.x === r.x && tr.y === r.y - 1)\n    if (up === -1 && realDoorIndex.includes(0)) {\n      hasFlag = true\n      break\n    }\n    const down = system.map.findIndex(tr => tr.x === r.x && tr.y === r.y + 1)\n    if (down === -1 && realDoorIndex.includes(2)) {\n      hasFlag = true\n      break\n    }\n    const left = system.map.findIndex(tr => tr.x === r.x - 1 && tr.y === r.y)\n    if (left === -1 && realDoorIndex.includes(3)) {\n      hasFlag = true\n      break\n    }\n    const right = system.map.findIndex(tr => tr.x === r.x + 1 && tr.y === r.y)\n    if (right === -1 && realDoorIndex.includes(1)) {\n      hasFlag = true\n      break\n    }\n  }\n  return hasFlag\n}\n\nexport const getBreakInEntrance = () => {\n  const currentRoom = system.map.find(r => r.x === player.x && r.y === player.y)\n  const realDoorIndex = currentRoom.doors.map(i => {\n    return (i + currentRoom.rotate / 90) % 4\n  })\n  const up = system.map.findIndex(tr => tr.x === currentRoom.x && tr.y === currentRoom.y - 1)\n  if (up === -1 && !realDoorIndex.includes(0)) {\n    return (0 + 4 - currentRoom.rotate / 90) % 4\n  }\n  const down = system.map.findIndex(tr => tr.x === currentRoom.x && tr.y === currentRoom.y + 1)\n  if (down === -1 && !realDoorIndex.includes(2)) {\n    return (2 + 4 - currentRoom.rotate / 90) % 4\n  }\n  const left = system.map.findIndex(tr => tr.x === currentRoom.x - 1 && tr.y === currentRoom.y)\n  if (left === -1 && !realDoorIndex.includes(3)) {\n    return (3 + 4 - currentRoom.rotate / 90) % 4\n  }\n  const right = system.map.findIndex(tr => tr.x === currentRoom.x + 1 && tr.y === currentRoom.y)\n  if (right === -1 && !realDoorIndex.includes(1)) {\n    return (1 + 4 - currentRoom.rotate / 90) % 4\n  }\n  return -1\n}\n\nexport const getVisitedRooms = () => {\n  let count = 0\n  const upRoom = system.map.find(r => r.x === player.x && r.y === player.y - 1)\n  const downRoom = system.map.find(r => r.x === player.x && r.y === player.y + 1)\n  const leftRoom = system.map.find(r => r.x === player.x - 1 && r.y === player.y)\n  const rightRoom = system.map.find(r => r.x === player.x + 1 && r.y === player.y)\n  upRoom && count++\n  downRoom && count++\n  leftRoom && count++\n  rightRoom && count++\n  return {\n    up: upRoom,\n    down: downRoom,\n    left: leftRoom,\n    right: rightRoom,\n    count\n  }\n}\n","<template>\n  <section class=\"comp-actions\">\n    <div class=\"layer-entrance\"\n      :class=\"[roomData.rotate && ('rotate-' + roomData.rotate)]\"\n      v-show=\"!isRunAwayShow\"\n    >\n      <div class=\"top-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(0)\"\n        @click=\"enter(0)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12V20H11V12H4L12 4L20 12H13Z\"></path></svg>\n      </div>\n      <div class=\"right-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(1)\"\n        @click=\"enter(1)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13H4V11H12V4L20 12L12 20V13Z\"></path></svg>\n      </div>\n      <div class=\"bottom-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(2)\"\n        @click=\"enter(2)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12H20L12 20L4 12H11V4H13V12Z\"></path></svg>\n      </div>\n      <div class=\"left-enter\"\n        v-if=\"roomData.doors && roomData.doors.includes(3)\"\n        @click=\"enter(3)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13V20L4 12L12 4V11H20V13H12Z\"></path></svg>\n      </div>\n    </div>\n    <div class=\"layer-rotate\"\n      v-show=\"isRotateNewRoomShow\">\n      <img class=\"new-room\"\n        :class=\"[rotateDeg && ('rotate-' + rotateDeg)]\"\n        :src=\"newRoom.image\" alt=\"\">\n      <div class=\"icon-button icon-rotate\"\n        @click=\"rotate()\">\n        <img class=\"icon\" src=\"@/assets/icon_rotate.svg\" alt=\"\">\n      </div>\n      <div class=\"icon-button icon-confirm\"\n        @click=\"confirmRotate()\">\n        <img class=\"icon\" src=\"@/assets/icon_confirm.svg\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"layer-runaway\"\n      v-show=\"isRunAwayShow\">\n      <div class=\"top-enter\"\n        v-if=\"runAwayRooms.up\"\n        @click=\"dealRunAway(0, -1)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12V20H11V12H4L12 4L20 12H13Z\"></path></svg>\n      </div>\n      <div class=\"right-enter\"\n        v-if=\"runAwayRooms.right\"\n        @click=\"dealRunAway(1, 0)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13H4V11H12V4L20 12L12 20V13Z\"></path></svg>\n      </div>\n      <div class=\"bottom-enter\"\n        v-if=\"runAwayRooms.down\"\n        @click=\"dealRunAway(0, 1)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M13 12H20L12 20L4 12H11V4H13V12Z\"></path></svg>\n      </div>\n      <div class=\"left-enter\"\n        v-if=\"runAwayRooms.left\"\n        @click=\"dealRunAway(-1, 0)\">\n        <svg class=\"icon-arrow\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"240\" height=\"240\" fill=\"currentColor\"><path d=\"M12 13V20L4 12L12 4V11H20V13H12Z\"></path></svg>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport system from '@/models/system'\nimport player from '@/models/Player'\nimport ItemConfig from '@/models/config/Item'\nimport RoomConfig from '@/models/config/Room'\nimport SystemConfig from '@/models/config/System'\nimport { getHeadToLocation, shuffle } from '@/utils/CommonUtil'\nimport { getVisitedRooms, hasValidEntrance, getBreakInEntrance, checkWinGame } from '@/ctrls/CommonCtrl'\n\nexport default {\n  props: {\n    roomData: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      isRotateNewRoomShow: false,\n      rotateDeg: 0,\n      newRoom: {\n        image: ''\n      },\n      isRunAwayShow: false,\n      runAwayRooms: {},\n      newLocation: {},\n      where: '',\n      phase: ''\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessageAction', ({ action, tag, index }) => {\n      if (tag && tag.source === 'getItem') {\n        if (action === 'confirm') {\n          // deal fetch item\n          tag.postEvent ? this.phase = 'specialItem' : this.phase = 'item'\n        } else {\n          // cancel fetch item\n          if (tag.postEvent) {\n            this.phase = ''\n            if (!hasValidEntrance()) {\n              this.dealBreakIn()\n            }\n          } else {\n            this.phase = 'specialEvent'\n          }\n        }\n        this.dealRoomStory()\n      } else if (tag && tag.source === 'getSpecialItem') {\n        if (action === 'confirm') {\n          // deal fetch item\n          this.phase = 'specialItem'\n          this.dealRoomStory()\n        } else {\n          // cancel fetch item\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        }\n      } else if (tag && tag.source === 'dropEventItem') {\n        if (index >= player.items.length) {\n          // drop the new item, do nothing\n        } else {\n          // drop exist item, replace it with new item\n          player.items.splice(index, 1, tag.newItem)\n        }\n        this.phase = 'specialEvent'\n        this.dealRoomStory()\n      } else if (tag && tag.source === 'dropSpecialItem') {\n        if (index >= player.items.length) {\n          // drop the new item, do nothing\n        } else {\n          // drop exist item, replace it with new item\n          player.items.splice(index, 1, tag.newItem)\n        }\n        this.phase = ''\n        if (!hasValidEntrance()) {\n          this.dealBreakIn()\n        }\n      } else if (tag && tag.source === 'getTotem') {\n        if (action === 'confirm') {\n          this.phase = 'totem'\n          this.dealRoomStory()\n        } else {\n          // cancel get totem\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        }\n      } else if (tag && tag.source === 'finishGame') {\n        this.phase = 'finishGame'\n        this.dealRoomStory()\n      } else if (tag && tag.source === 'restart') {\n        this.isRotateNewRoomShow = false\n        this.rotateDeg = 0\n        this.newRoom = {\n          image: ''\n        }\n        this.isRunAwayShow = false\n        this.runAwayRooms = {}\n        this.newLocation = {}\n        this.where = ''\n        this.phase = ''\n      }\n    })\n    eventBus.$on('notifyBattleResult', ({ result, tag }) => {\n      if (result === 'runAway') {\n        // 1. check visited rooms 2. show message 3. end\n        const visitedRooms = getVisitedRooms()\n        if (visitedRooms.count === 1) {\n          // only 1 valid visited room, get back into it\n          if (visitedRooms.up) {\n            this.dealRunAway(0, -1)\n          } else if (visitedRooms.down) {\n            this.dealRunAway(0, 1)\n          } else if (visitedRooms.left) {\n            this.dealRunAway(-1, 0)\n          } else if (visitedRooms.right) {\n            this.dealRunAway(1, 0)\n          }\n        } else {\n          // choose which visited room to run away into\n          this.runAwayRooms = visitedRooms\n          this.isRunAwayShow = true\n        }\n      } else if (result === 'win') {\n        if (tag && tag.source === 'finishGame') {\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n        } else if (tag && tag.source === 'breakIn') {\n          // NOTE after break in, no more events\n          this.phase = ''\n        } else if (tag && tag.postEvent) {\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        } else {\n          this.phase = 'specialEvent'\n          this.dealRoomStory()\n        }\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessageAction')\n    eventBus.$off('notifyBattleResult')\n  },\n\n  methods: {\n    enter (doorIndex) {\n      // console.log('enter door ', doorIndex)\n      const headToLocation = getHeadToLocation(this.roomData, doorIndex)\n      if (system.map.find(r => r.x === headToLocation.x && r.y === headToLocation.y)) {\n        // visited room\n        player.x = headToLocation.x\n        player.y = headToLocation.y\n        eventBus.$emit('notifyRedraw')\n        this.phase = 'roomEvent'\n        this.dealRoomStory()\n      } else {\n        // unknown room\n        if (this.roomData.outDoor && this.roomData.outDoor.length && this.roomData.outDoor.includes(doorIndex)) {\n          // go outside\n          const toShuffleOutdoors = []\n          let patio = null\n          RoomConfig.outdoors.forEach(r => {\n            if (r.key === 'patio') {\n              patio = {\n                ...r,\n                where: 'outdoor'\n              }\n            } else {\n              toShuffleOutdoors.push({\n                ...r,\n                where: 'outdoor'\n              })\n            }\n          })\n          system.outdoors = shuffle(toShuffleOutdoors)\n          // console.log(system)\n          this.dealNewRoom(patio, headToLocation)\n        } else {\n          // go to a new room\n          // console.log(this.roomData, system)\n          let newRoom = null\n          if (this.roomData.where === 'indoor' && system.indoors.length) {\n            newRoom = system.indoors.pop()\n          } else if (this.roomData.where === 'outdoor' && system.outdoors.length) {\n            newRoom = system.outdoors.pop()\n          } else {\n            // no more rooms\n            eventBus.$emit('notifyMessage', {\n              message: '...'\n            })\n            return\n          }\n          if (newRoom) {\n            this.dealNewRoom(newRoom, headToLocation)\n          }\n        }\n      }\n    },\n    dealNewRoom (room, location) {\n      this.newRoom = room\n      this.rotateDeg = 0\n      this.newLocation = location\n      this.where = this.roomData.where\n      this.isRotateNewRoomShow = true\n      player.x = location.x\n      player.y = location.y\n      eventBus.$emit('notifyRedraw')\n    },\n    rotate () {\n      if (this.rotateDeg === 270) {\n        this.rotateDeg = 0\n      } else {\n        this.rotateDeg += 90\n      }\n    },\n    confirmRotate () {\n      system.map.push({\n        ...this.newRoom,\n        x: this.newLocation.x,\n        y: this.newLocation.y,\n        rotate: this.rotateDeg,\n        where: this.newRoom.where || this.where\n      })\n      this.isRotateNewRoomShow = false\n      eventBus.$emit('notifyRedraw')\n      this.phase = 'roomEvent'\n      this.dealRoomStory()\n    },\n    dealRoomStory () {\n      // 1. room event\n      // 1.1 battle\n      // 1.1.1 battle result\n      // 1.1.2 run away\n      // 1.2 effect\n      // 1.3 fetch item\n      // 1.3.1 drop item\n      // 2. special event\n      // 2.1 effect\n      // 2.2 fetch special item\n      // 2.2.1 drop item\n      switch (this.phase) {\n        case 'roomEvent':\n          this.dealEvent()\n          break\n        case 'item':\n          this.dealItem()\n          break\n        case 'specialEvent':\n          this.dealSpecialEvent()\n          break\n        case 'specialItem':\n          this.dealItem(true)\n          break\n        case 'totem':\n          this.dealFetchTotem()\n          break\n        case 'finishGame':\n          this.dealFinishGame()\n          break\n        default:\n      }\n    },\n    dealEvent (postEvent = false) {\n      if (!system.events.length) {\n        // no more events, should shuffle\n        eventBus.$emit('notifyShuffleEvents')\n      }\n      if (!system.events.length) {\n        // when game over, no more events after shuffling\n        return\n      }\n      // NOTE there's a possible bug, deal event before shuffling finish, should confirm\n      console.log('before deal event', JSON.stringify(system))\n      const event = system.events.pop()\n      const toDealEvent = event.timeEvents[system.time]\n      switch (toDealEvent.key) {\n        case 'msg':\n          eventBus.$emit('notifyMessage', {\n            message: toDealEvent.desc\n          })\n          if (!postEvent) {\n            this.phase = 'specialEvent'\n            this.dealRoomStory()\n          }\n          break\n        case 'getItem':\n          eventBus.$emit('notifyMessage', {\n            message: '',\n            confirmBtnText: '',\n            cancelBtnText: '',\n            tag: {\n              source: 'getItem',\n              postEvent\n            }\n          })\n          break\n        case 'battle':\n          eventBus.$emit('notifyHappenBattle', {\n            count: toDealEvent.zombies,\n            tag: {\n              postEvent\n            }\n          })\n          break\n        case 'effect':\n          player.hp += toDealEvent.addHp\n          eventBus.$emit('notifyMessage', {\n            message: `${toDealEvent.desc}${toDealEvent.addHp >= 0 ? '+' : ''}${toDealEvent.addHp}`\n          })\n          if (!postEvent) {\n            this.phase = 'specialEvent'\n            this.dealRoomStory()\n          }\n          break\n      }\n    },\n    dealSpecialEvent () {\n      // NOTE special event is based on the room\n      const stayedRoom = system.map.find(r => r.x === player.x && r.y === player.y)\n      if (stayedRoom.addHp > 0) {\n        player.hp += stayedRoom.addHp\n        eventBus.$emit('notifyMessage', {\n          message: `+${stayedRoom.addHp}`\n        })\n      } else if (stayedRoom.key === 'storage') {\n        // can fetch item\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          cancelBtnText: '',\n          tag: {\n            source: 'getSpecialItem'\n          }\n        })\n      } else if (stayedRoom.key === 'evilTemple' && !player.gotTotem) {\n        // can fetch totem\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          cancelBtnText: '',\n          tag: {\n            source: 'getTotem'\n          }\n        })\n      } else if (stayedRoom.key === 'graveyard' && player.gotTotem) {\n        // can bury totem in grave\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          tag: {\n            source: 'finishGame'\n          }\n        })\n      } else {\n        // no special event\n        this.phase = ''\n        if (!hasValidEntrance()) {\n          this.dealBreakIn()\n        }\n      }\n    },\n    dealFinalEvent () {\n      if (!system.events.length) {\n        // no more events, should shuffle\n        eventBus.$emit('notifyShuffleEvents')\n      }\n      if (!system.events.length) {\n        // when game over, no more events after shuffling\n        return\n      }\n      // NOTE there's a possible bug, deal event before shuffling finish, should confirm\n      console.log('before deal final event', JSON.stringify(system))\n      const event = system.events.pop()\n      const toDealEvent = event.timeEvents[system.time]\n      switch (toDealEvent.key) {\n        case 'msg':\n          eventBus.$emit('notifyMessage', {\n            message: toDealEvent.desc\n          })\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n          break\n        case 'getItem':\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n          break\n        case 'battle':\n          eventBus.$emit('notifyHappenBattle', {\n            count: toDealEvent.zombies,\n            disableRunAway: true,\n            tag: {\n              source: 'finishGame'\n            }\n          })\n          break\n        case 'effect':\n          player.hp += toDealEvent.addHp\n          eventBus.$emit('notifyMessage', {\n            message: `${toDealEvent.desc}${toDealEvent.addHp >= 0 ? '+' : ''}${toDealEvent.addHp}}`\n          })\n          if (checkWinGame()) {\n            eventBus.$emit('notifyMessage', {\n              message: '',\n              confirmBtnText: '',\n              tag: {\n                source: 'restart'\n              }\n            })\n          }\n          break\n      }\n    },\n    dealItem (isSpecialItem = false) {\n      if (!system.events.length) {\n        // no more events, should shuffle\n        eventBus.$emit('notifyShuffleEvents')\n      }\n      if (!system.events.length) {\n        // when game over, no more events after shuffling\n        return\n      }\n      // NOTE there's a possible bug, deal item before shuffling finish, should confirm\n      console.log('before deal item', JSON.stringify(system))\n      const event = system.events.pop()\n      const toDealItem = JSON.parse(JSON.stringify(ItemConfig.items.find(i => i.key === event.item)))\n      if (player.items.length < player.maxItems) {\n        player.items.push(toDealItem)\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          icons: [toDealItem]\n        })\n        if (!isSpecialItem) {\n          this.phase = 'specialEvent'\n          this.dealRoomStory()\n        } else {\n          this.phase = ''\n          if (!hasValidEntrance()) {\n            this.dealBreakIn()\n          }\n        }\n      } else {\n        // no more room for new item\n        this.dealDropItem(toDealItem, isSpecialItem)\n      }\n    },\n    dealDropItem (newItem, isSpecialItem = false) {\n      eventBus.$emit('notifyMessage', {\n        message: '',\n        icons: [...player.items.map(i => i), newItem],\n        selectable: true,\n        confirmBtnText: '',\n        tag: {\n          source: isSpecialItem ? 'dropSpecialItem' : 'dropEventItem',\n          newItem\n        }\n      })\n    },\n    dealRunAway (x, y) {\n      this.isRunAwayShow = false\n      this.runAwayRooms = {}\n      player.x += x\n      player.y += y\n      eventBus.$emit('notifyRedraw')\n      eventBus.$emit('notifyMessage', {\n        message: ''\n      })\n      this.phase = ''\n      if (!hasValidEntrance()) {\n        this.dealBreakIn()\n      }\n    },\n    dealBreakIn () {\n      const breakInIndex = getBreakInEntrance()\n      if (breakInIndex > -1) {\n        // break in causes a new entrance\n        const currentRoomIndex = system.map.findIndex(r => r.x === player.x && r.y === player.y)\n        const newRoomData = JSON.parse(JSON.stringify(system.map[currentRoomIndex]))\n        newRoomData.doors.push(breakInIndex)\n        system.map.splice(currentRoomIndex, 1, newRoomData)\n        // console.log(system.map)\n        eventBus.$emit('notifyRedraw')\n        eventBus.$emit('notifyHappenBattle', {\n          count: SystemConfig.breakInCount,\n          disableRunAway: true,\n          tag: {\n            source: 'breakIn'\n          }\n        })\n      } else {\n        // NOTE in real world, this situation rarely happens. But to make it robust, I decide it ends with game over\n        eventBus.$emit('notifyMessage', {\n          message: '',\n          confirmBtnText: '',\n          tag: {\n            source: 'restart'\n          }\n        })\n      }\n    },\n    dealFetchTotem () {\n      player.gotTotem = true\n      this.dealEvent(true)\n    },\n    dealFinishGame () {\n      player.buriedTotem = true\n      this.dealFinalEvent()\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-actions {\n  position: absolute;\n  z-index: 30;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  // background: red;\n  .icon-arrow {\n    width: 50px;\n    height: 50px;\n    color: red;\n  }\n  .layer-rotate {\n    position: absolute;\n    z-index: 38;\n    left: calc((100% - 300px) / 2);\n    top: calc((100% - 300px) / 2);\n    width: 300px;\n    height: 300px;\n    .new-room {\n      width: 300px;\n      height: 300px;\n      transition: all 0.3s;\n      &.rotate-90 {\n        transform: rotate(90deg);\n      }\n      &.rotate-180 {\n        transform: rotate(180deg);\n      }\n      &.rotate-270 {\n        transform: rotate(270deg);\n      }\n    }\n    .icon-rotate {\n      position: absolute;\n      z-index: 39;\n      left: 20px;\n      top: 100px;\n    }\n    .icon-confirm {\n      position: absolute;\n      z-index: 39;\n      right: 20px;\n      top: 100px;\n    }\n  }\n  .layer-entrance {\n    position: absolute;\n    z-index: 31;\n    left: calc((100% - 300px) / 2);\n    top: calc((100% - 300px) / 2);\n    width: 300px;\n    height: 300px;\n    // background: red;\n    &.rotate-90 {\n      transform: rotate(90deg);\n    }\n    &.rotate-180 {\n      transform: rotate(180deg);\n    }\n    &.rotate-270 {\n      transform: rotate(270deg);\n    }\n    .top-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      top: 0;\n      height: 50px;\n      // background: red;\n    }\n    .right-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      right: 0;\n      width: 50px;\n      // background: red;\n    }\n    .bottom-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      bottom: 0;\n      height: 50px;\n      // background: red;\n    }\n    .left-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      left: 0;\n      width: 50px;\n      // background: red;\n    }\n  }\n  .layer-runaway {\n    position: absolute;\n    z-index: 38;\n    left: calc((100% - 300px) / 2);\n    top: calc((100% - 300px) / 2);\n    width: 300px;\n    height: 300px;\n    // background: red;\n    .top-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      top: 0;\n      height: 50px;\n      // background: red;\n    }\n    .right-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      right: 0;\n      width: 50px;\n      // background: red;\n    }\n    .bottom-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      left: 30%;\n      width: 40%;\n      bottom: 0;\n      height: 50px;\n      // background: red;\n    }\n    .left-enter {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      z-index: 32;\n      top: 30%;\n      height: 40%;\n      left: 0;\n      width: 50px;\n      // background: red;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActionContainer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActionContainer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionContainer.vue?vue&type=template&id=efbd12d6&scoped=true\"\nimport script from \"./ActionContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ActionContainer.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActionContainer.vue?vue&type=style&index=0&id=efbd12d6&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efbd12d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-actions\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isRunAwayShow),expression:\"!isRunAwayShow\"}],staticClass:\"layer-entrance\",class:[_vm.roomData.rotate && ('rotate-' + _vm.roomData.rotate)]},[(_vm.roomData.doors && _vm.roomData.doors.includes(0))?_c('div',{staticClass:\"top-enter\",on:{\"click\":function($event){return _vm.enter(0)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12V20H11V12H4L12 4L20 12H13Z\"}})])]):_vm._e(),(_vm.roomData.doors && _vm.roomData.doors.includes(1))?_c('div',{staticClass:\"right-enter\",on:{\"click\":function($event){return _vm.enter(1)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13H4V11H12V4L20 12L12 20V13Z\"}})])]):_vm._e(),(_vm.roomData.doors && _vm.roomData.doors.includes(2))?_c('div',{staticClass:\"bottom-enter\",on:{\"click\":function($event){return _vm.enter(2)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12H20L12 20L4 12H11V4H13V12Z\"}})])]):_vm._e(),(_vm.roomData.doors && _vm.roomData.doors.includes(3))?_c('div',{staticClass:\"left-enter\",on:{\"click\":function($event){return _vm.enter(3)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13V20L4 12L12 4V11H20V13H12Z\"}})])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRotateNewRoomShow),expression:\"isRotateNewRoomShow\"}],staticClass:\"layer-rotate\"},[_c('img',{staticClass:\"new-room\",class:[_vm.rotateDeg && ('rotate-' + _vm.rotateDeg)],attrs:{\"src\":_vm.newRoom.image,\"alt\":\"\"}}),_c('div',{staticClass:\"icon-button icon-rotate\",on:{\"click\":function($event){return _vm.rotate()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_rotate.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button icon-confirm\",on:{\"click\":function($event){return _vm.confirmRotate()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_confirm.svg\"),\"alt\":\"\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRunAwayShow),expression:\"isRunAwayShow\"}],staticClass:\"layer-runaway\"},[(_vm.runAwayRooms.up)?_c('div',{staticClass:\"top-enter\",on:{\"click\":function($event){return _vm.dealRunAway(0, -1)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12V20H11V12H4L12 4L20 12H13Z\"}})])]):_vm._e(),(_vm.runAwayRooms.right)?_c('div',{staticClass:\"right-enter\",on:{\"click\":function($event){return _vm.dealRunAway(1, 0)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13H4V11H12V4L20 12L12 20V13Z\"}})])]):_vm._e(),(_vm.runAwayRooms.down)?_c('div',{staticClass:\"bottom-enter\",on:{\"click\":function($event){return _vm.dealRunAway(0, 1)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M13 12H20L12 20L4 12H11V4H13V12Z\"}})])]):_vm._e(),(_vm.runAwayRooms.left)?_c('div',{staticClass:\"left-enter\",on:{\"click\":function($event){return _vm.dealRunAway(-1, 0)}}},[_c('svg',{staticClass:\"icon-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"width\":\"240\",\"height\":\"240\",\"fill\":\"currentColor\"}},[_c('path',{attrs:{\"d\":\"M12 13V20L4 12L12 4V11H20V13H12Z\"}})])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BottomPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BottomPanel.vue?vue&type=script&lang=js\"","<template>\n  <section class=\"comp-bottom-panel\">\n    <div class=\"box-items\">\n      <div class=\"box-item\"\n        v-for=\"i in player.maxItems\" :key=\"i\"\n        @click=\"handleUseItem(player.maxItems - i)\">\n        <img\n          v-if=\"player.items[player.maxItems - i]\"\n          :src=\"player.items[player.maxItems - i].image\" alt=\"\">\n        <span class=\"left-time\"\n          v-if=\"player.items[player.maxItems - i] && player.items[player.maxItems - i].useTime\">{{ player.items[player.maxItems - i].useTime === 99 ? '' : player.items[player.maxItems - i].useTime }}</span>\n      </div>\n    </div>\n    <div class=\"icon-button\"\n      @click=\"handleCower()\">\n      <img class=\"icon\" src=\"@/assets/icon_heart.svg\" alt=\"\">\n    </div>\n    <div class=\"icon-button\"\n      @click=\"handleOpenMap()\">\n      <img class=\"icon\" src=\"@/assets/icon_map.svg\" alt=\"\">\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\nimport system from '@/models/system'\nimport SystemConfig from '@/models/config/System'\nimport { checkItems } from '@/ctrls/CommonCtrl'\n\nexport default {\n  data () {\n    return {\n      player\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessageAction', ({ action, tag }) => {\n      if (action === 'confirm' && tag && tag.source === 'cower') {\n        this.dealCower(tag.cowerRecover)\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessageAction')\n  },\n\n  methods: {\n    handleUseItem (index) {\n      if (player.items.length && index < player.items.length) {\n        const item = player.items[index]\n        if (item.key === 'soda') {\n          if (item.useTime > 0) {\n            if (item.useTime !== 99) {\n              item.useTime--\n            }\n            player.hp += item.addHp\n            eventBus.$emit('notifyMessage', {\n              message: `${item.name}+${item.addHp}`\n            })\n          }\n          checkItems()\n        } else if (item.key === 'gasoline') {\n          const chainsawIndex = player.items.findIndex(i => i.key === 'chainsaw')\n          if (chainsawIndex >= 0) {\n            const chainsawItem = player.items[chainsawIndex]\n            if (item.useTime > 0) {\n              if (item.useTime !== 99) {\n                item.useTime--\n              }\n              chainsawItem.useTime !== 99 && (chainsawItem.useTime += 2)\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n            }\n            checkItems()\n          } else {\n            eventBus.$emit('notifyMessage', {\n              message: item.desc\n            })\n          }\n        } else {\n          eventBus.$emit('notifyMessage', {\n            message: item.desc\n          })\n        }\n      }\n    },\n    handleCower () {\n      // Cower to recover hp whenever touch Cower icon during idle status. Recover 3 hp, time passes 1 hour and discard the next event withour resolving. Recover may be affected by some items.\n      const boneIndex = player.items.findIndex(i => i.key === 'bone')\n      let cowerRecover = 3\n      boneIndex >= 0 && cowerRecover--\n      eventBus.$emit('notifyMessage', {\n        message: `+${cowerRecover}1`,\n        confirmBtnText: '',\n        cancelBtnText: '',\n        tag: {\n          source: 'cower',\n          cowerRecover\n        }\n      })\n    },\n    dealCower (recoverHp) {\n      player.hp += recoverHp\n      eventBus.$emit('notifyMessage', {\n        message: `+${recoverHp}`\n      })\n      system.time++\n      if (system.time >= SystemConfig.endTime) {\n        eventBus.$emit('notifyMessage', {\n          message: '12',\n          confirmBtnText: '',\n          tag: {\n            source: 'restart'\n          }\n        })\n        // return\n      }\n      // NOTE I broke the original designed rule, cower only effects time passing, no discarding event here. Reason is it's not that important while brings more complications\n    },\n    handleOpenMap () {\n      eventBus.$emit('notifyShowMap')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.comp-bottom-panel {\n  display: flex;\n  justify-content: space-between;\n  align-items: end;\n  position: fixed;\n  z-index: 31;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 24px;\n  // background: red;\n  .box-items {\n    width: 100px;\n    border: 4px solid red;\n    border-radius: 8px;\n    .box-item {\n      position: relative;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100px;\n      &:not(:last-of-type) {\n        border-bottom: 4px solid red;\n      }\n      img {\n        width: 80px;\n        height: 80px;\n      }\n      .left-time {\n        position: absolute;\n        right: 10px;\n        bottom: 10px;\n        color: #fff;\n        font-size: 40px;\n        text-shadow: 2px 2px 6px black;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./BottomPanel.vue?vue&type=template&id=9d502348&scoped=true\"\nimport script from \"./BottomPanel.vue?vue&type=script&lang=js\"\nexport * from \"./BottomPanel.vue?vue&type=script&lang=js\"\nimport style0 from \"./BottomPanel.vue?vue&type=style&index=0&id=9d502348&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d502348\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"comp-bottom-panel\"},[_c('div',{staticClass:\"box-items\"},_vm._l((_vm.player.maxItems),function(i){return _c('div',{key:i,staticClass:\"box-item\",on:{\"click\":function($event){return _vm.handleUseItem(_vm.player.maxItems - i)}}},[(_vm.player.items[_vm.player.maxItems - i])?_c('img',{attrs:{\"src\":_vm.player.items[_vm.player.maxItems - i].image,\"alt\":\"\"}}):_vm._e(),(_vm.player.items[_vm.player.maxItems - i] && _vm.player.items[_vm.player.maxItems - i].useTime)?_c('span',{staticClass:\"left-time\"},[_vm._v(_vm._s(_vm.player.items[_vm.player.maxItems - i].useTime === 99 ? '' : _vm.player.items[_vm.player.maxItems - i].useTime))]):_vm._e()])}),0),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleCower()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_heart.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleOpenMap()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_map.svg\"),\"alt\":\"\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"pop-message\"\n    v-show=\"isShow\">\n    <div class=\"box-message\">\n      <div class=\"text-center\">{{ content }}</div>\n      <div class=\"text-center\"\n        v-show=\"icons.length\"\n        style=\"margin-top: 12px;\">\n        <img class=\"message-icon\"\n          :class=\"[selectIndex === index && 'active']\"\n          v-for=\"(icon, index) in icons\" :key=\"index\"\n          :src=\"icon.image\" alt=\"\"\n          @click=\"handleSelect(index)\">\n      </div>\n      <div class=\"text-center\" style=\"margin-top: 12px;\">\n        <button class=\"primary-button\"\n          @click=\"handleConfirm()\">{{ confirmBtnText || '' }}</button>\n        <button class=\"default-button\"\n          style=\"margin-left: 12px;\"\n          v-show=\"cancelBtnText\"\n          @click=\"handleCancel()\">{{ cancelBtnText || '' }}</button>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\n\nlet msgQueue = []\n\nexport default {\n  data () {\n    return {\n      isShow: false,\n      confirmBtnText: '',\n      cancelBtnText: '', // use cancelBtnText content to control its' display\n      content: '',\n      icons: [],\n      selectable: false,\n      selectIndex: -1,\n      tag: ''\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyMessage', (params) => {\n      // params = {\n      //   message: '',\n      //   icons: [{}, {}, ...],\n      //   selectable: false,\n      //   confirmBtnText: '',\n      //   cancelBtnText: '',\n      //   tag: <any>,\n      // }\n      console.log('message', params)\n      if (this.isShow) {\n        msgQueue.push(params)\n      } else {\n        this.showMessage(params)\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyMessage')\n  },\n\n  methods: {\n    showMessage ({ message, confirmBtnText, cancelBtnText, icons, tag, selectable = false }) {\n      this.content = message || ''\n      this.icons = icons || []\n      this.confirmBtnText = confirmBtnText || ''\n      this.cancelBtnText = cancelBtnText || ''\n      this.tag = tag\n      this.selectable = selectable || false\n      this.isShow = true\n    },\n    handleSelect (index) {\n      if (this.selectable) {\n        this.selectIndex = index\n      }\n    },\n    handleConfirm () {\n      if (this.selectable && this.selectIndex === -1) {\n        return\n      }\n      eventBus.$emit('notifyMessageAction', {\n        action: 'confirm',\n        index: this.selectIndex,\n        tag: this.tag\n      })\n      if (this.tag && this.tag.source === 'restart') {\n        // restart, should clear dirty message queue\n        msgQueue = []\n      }\n      this.close()\n    },\n    handleCancel () {\n      eventBus.$emit('notifyMessageAction', {\n        action: 'cancel',\n        index: this.selectIndex,\n        tag: this.tag\n      })\n      this.close()\n    },\n    close () {\n      this.isShow = false\n      this.confirmBtnText = ''\n      this.cancelBtnText = ''\n      this.content = ''\n      this.icons = []\n      this.selectable = false\n      this.selectIndex = -1\n      this.tag = ''\n      if (msgQueue.length) {\n        const params = msgQueue.shift()\n        this.showMessage(params)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-message {\n  position: absolute;\n  z-index: 49;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  .box-message {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: 600px;\n    min-width: 400px;\n    padding: 18px;\n    border: 6px solid red;\n    border-radius: 12px;\n    background: #343434;\n    color: #fff;\n    font-size: 28px;\n    .message-icon {\n      width: 100px;\n      height: 100px;\n      border: 6px solid transparent;\n      border-radius: 8px;\n      transition: all 0.3s;\n      &:not(:last-of-type) {\n        margin-right: 12px;\n      }\n      &.active {\n        border: 6px solid red;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessagePop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessagePop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MessagePop.vue?vue&type=template&id=f7818bbc&scoped=true\"\nimport script from \"./MessagePop.vue?vue&type=script&lang=js\"\nexport * from \"./MessagePop.vue?vue&type=script&lang=js\"\nimport style0 from \"./MessagePop.vue?vue&type=style&index=0&id=f7818bbc&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7818bbc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-message\"},[_c('div',{staticClass:\"box-message\"},[_c('div',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.content))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.icons.length),expression:\"icons.length\"}],staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},_vm._l((_vm.icons),function(icon,index){return _c('img',{key:index,staticClass:\"message-icon\",class:[_vm.selectIndex === index && 'active'],attrs:{\"src\":icon.image,\"alt\":\"\"},on:{\"click\":function($event){return _vm.handleSelect(index)}}})}),0),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},[_c('button',{staticClass:\"primary-button\",on:{\"click\":function($event){return _vm.handleConfirm()}}},[_vm._v(_vm._s(_vm.confirmBtnText || ''))]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cancelBtnText),expression:\"cancelBtnText\"}],staticClass:\"default-button\",staticStyle:{\"margin-left\":\"12px\"},on:{\"click\":function($event){return _vm.handleCancel()}}},[_vm._v(_vm._s(_vm.cancelBtnText || ''))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HappenBattle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HappenBattle.vue?vue&type=script&lang=js\"","<template>\n  <section class=\"pop-happen-battle\"\n    v-show=\"isShow\">\n    <div class=\"box-message\">\n      <div class=\"text-center box-zombies\">\n        <img class=\"zombie-image\"\n          v-for=\"(z) in count\" :key=\"z\"\n          src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/zombie.jpg\" alt=\"\">\n      </div>\n      <div class=\"text-center\"\n        style=\"margin-top: 12px;\">\n        {{ count }}\n      </div>\n      <div class=\"box-tabs\">\n        <div class=\"tab\"\n          :class=\"[tabIndex === 0 && 'active']\"\n          @click=\"tabIndex = 0\"></div>\n        <div class=\"tab\"\n          :class=\"[tabIndex === 1 && 'active']\"\n          @click=\"tabIndex = 1\"></div>\n        <div class=\"tab\"\n          :class=\"[tabIndex === 2 && 'active']\"\n          v-show=\"!disableRunAway\"\n          @click=\"tabIndex = 2\"></div>\n      </div>\n      <div class=\"box-action\">\n        <!--  -->\n        <div v-show=\"tabIndex === 0\">\n          <div v-show=\"weapons.length\">\n            \n            <div class=\"text-center\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-icon\"\n                :class=\"[selectIndex === index && 'active']\"\n                v-for=\"(w, index) in weapons\" :key=\"index\"\n                :src=\"w.image\" alt=\"\"\n                @click=\"handleSelect(index)\">\n            </div>\n            <div class=\"text-center\">\n              {{ player.atk }}+{{ activeWeapon.addAtk }} {{ activeWeapon.useTime === 99 ? '' : activeWeapon.useTime }}\n            </div>\n          </div>\n          <div class=\"text-center\"\n            v-show=\"!weapons.length\">\n            {{ player.atk }}\n          </div>\n        </div>\n        <!--  -->\n        <div v-show=\"tabIndex === 1\">\n          <div>\n            \n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('grenade')\"\n              @click=\"selectItem = 'grenade'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'grenade'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'grenade'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/grenade.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('oil')\"\n              @click=\"selectItem = 'candle+oil'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'candle+oil'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'candle+oil'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/candle.jpg\" alt=\"\">\n              +\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/oil.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('gasoline')\"\n              @click=\"selectItem = 'candle+gasoline'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'candle+gasoline'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'candle+gasoline'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/candle.jpg\" alt=\"\">\n              +\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/gasoline.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('gasoline') && player.items.map(i=> i.key).includes('chainsaw')\"\n              @click=\"selectItem = 'gasoline+chainsaw'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'gasoline+chainsaw'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'gasoline+chainsaw'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/gasoline.jpg\" alt=\"\">\n              +\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/chainsaw.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center box-item-choice\"\n              v-show=\"player.items.map(i=> i.key).includes('soda')\"\n              @click=\"selectItem = 'soda'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'soda'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'soda'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/soda.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center\">\n              {{ useItemDesc }}\n            </div>\n          </div>\n        </div>\n        <!--  -->\n        <div v-show=\"tabIndex === 2\">\n          <div v-show=\"player.items.map(i=> i.key).includes('oil')\">\n            \n            <div class=\"text-center box-item-choice\"\n              @click=\"selectItem === 'oil' ? selectItem = '' : selectItem = 'oil'\"\n              style=\"margin-top: 6px;\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem !== 'oil'\"\n                src=\"@/assets/icon_checkbox_blank_circle.svg\" alt=\"\">\n              <img class=\"item-radio\"\n                v-show=\"selectItem === 'oil'\"\n                src=\"@/assets/icon_checkbox_circle_fill.svg\" alt=\"\">\n              <img class=\"item-icon\"\n                src=\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/oil.jpg\" alt=\"\">\n            </div>\n            <div class=\"text-center\">\n              {{ ItemConfig.items.find(i => i.key === 'oil').desc }}\n            </div>\n          </div>\n          <div class=\"text-center\"\n            v-show=\"!player.items.map(i=> i.key).includes('oil')\">\n            {{ PlayerConfig.runAwayDamage }}\n          </div>\n        </div>\n      </div>\n      <div class=\"text-center\" style=\"margin-top: 12px;\">\n        <button class=\"primary-button\"\n          @click=\"handleConfirm()\"></button>\n        <!-- <button class=\"default-button\"\n          style=\"margin-left: 12px;\"\n          v-show=\"cancelBtnText\"\n          @click=\"handleCancel()\">{{ cancelBtnText || '' }}</button> -->\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\nimport ItemConfig from '@/models/config/Item'\nimport PlayerConfig from '@/models/config/Player'\nimport { checkAlive, checkItems } from '@/ctrls/CommonCtrl'\n\nexport default {\n  data () {\n    return {\n      isShow: false,\n      count: 0,\n      tabIndex: 0,\n      selectIndex: 0,\n      selectItem: '',\n      disableRunAway: false,\n      tag: '',\n      player,\n      PlayerConfig,\n      ItemConfig\n    }\n  },\n  computed: {\n    weapons () {\n      if (this.player.items.length) {\n        return this.player.items.filter(i => i.type === 'weapon' && i.useTime > 0)\n      } else {\n        return []\n      }\n    },\n    activeWeapon () {\n      if (this.weapons.length && this.selectIndex >= 0) {\n        return this.weapons[this.selectIndex]\n      } else {\n        return {}\n      }\n    },\n    useItemDesc () {\n      if (this.selectItem) {\n        if (['candle+oil', 'candle+gasoline'].includes(this.selectItem)) {\n          return ''\n        } else if (this.selectItem === 'gasoline+chainsaw') {\n          return '2'\n        } else {\n          return ItemConfig.items.find(i => i.key === this.selectItem).desc\n        }\n      } else {\n        return ''\n      }\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyHappenBattle', (params) => {\n      // params = {\n      //   count: 0,\n      //   disableRunAway: false,\n      //   tag: <any>,\n      // }\n      this.happenBattle(params)\n    })\n    eventBus.$on('notifyMessageAction', ({ action, tag }) => {\n      if (action === 'confirm' && tag && tag.source === 'restart') {\n        this.close('restart')\n      }\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyHappenBattle')\n    eventBus.$off('notifyMessageAction')\n  },\n\n  methods: {\n    happenBattle ({ count, disableRunAway, tag }) {\n      this.count = count || 0\n      this.disableRunAway = disableRunAway\n      this.tag = tag\n      if (this.count) {\n        this.isShow = true\n      }\n    },\n    handleSelect (index) {\n      this.selectIndex = index\n    },\n    handleConfirm () {\n      if (this.tabIndex === 0) {\n        this.dealBattle()\n      } else if (this.tabIndex === 1 && this.selectItem && this.selectItem !== 'oil') {\n        this.dealUseItem()\n      } else if (this.tabIndex === 2) {\n        this.dealRunAway()\n      }\n    },\n    dealBattle () {\n      let weaponAtk = 0\n      if (this.activeWeapon.key && this.activeWeapon.useTime > 0) {\n        weaponAtk = this.activeWeapon.addAtk\n      }\n      const finalAtk = player.atk + weaponAtk\n      const damage = this.count - finalAtk\n      if (damage >= 0) {\n        player.hp -= damage\n        eventBus.$emit('notifyMessage', {\n          message: `-${damage}`\n        })\n        if (!checkAlive()) {\n          eventBus.$emit('notifyMessage', {\n            message: '',\n            confirmBtnText: '',\n            tag: {\n              source: 'restart'\n            }\n          })\n          return\n        }\n      }\n      this.activeWeapon.useTime !== 99 && this.activeWeapon.useTime > 0 && this.activeWeapon.useTime--\n      if (this.activeWeapon.useTime <= 0) {\n        checkItems()\n      }\n      this.close()\n    },\n    dealUseItem () {\n      switch (this.selectItem) {\n        case 'grenade': {\n          const targetIndex = player.items.findIndex(i => i.key === this.selectItem)\n          if (targetIndex >= 0) {\n            const item = player.items[targetIndex]\n            if (item.useTime > 0) {\n              if (item.useTime !== 99) {\n                item.useTime--\n              }\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n              this.close()\n            }\n          }\n          break\n        }\n        case 'candle+oil': {\n          const candleIndex = player.items.findIndex(i => i.key === 'candle')\n          const oilIndex = player.items.findIndex(i => i.key === 'oil')\n          if (candleIndex >= 0 && oilIndex >= 0) {\n            const candleItem = player.items[candleIndex]\n            const oilItem = player.items[oilIndex]\n            if (candleItem.useTime > 0 && oilItem.useTime > 0) {\n              if (candleItem.useTime !== 99) {\n                candleItem.useTime--\n              }\n              if (oilItem.useTime !== 99) {\n                oilItem.useTime--\n              }\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n              this.close()\n            }\n          }\n          break\n        }\n        case 'candle+gasoline': {\n          const candleIndex = player.items.findIndex(i => i.key === 'candle')\n          const gasolineIndex = player.items.findIndex(i => i.key === 'gasoline')\n          if (candleIndex >= 0 && gasolineIndex >= 0) {\n            const candleItem = player.items[candleIndex]\n            const gasolineItem = player.items[gasolineIndex]\n            if (candleItem.useTime > 0 && gasolineItem.useTime > 0) {\n              if (candleItem.useTime !== 99) {\n                candleItem.useTime--\n              }\n              if (gasolineItem.useTime !== 99) {\n                gasolineItem.useTime--\n              }\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n              this.close()\n            }\n          }\n          break\n        }\n        case 'gasoline+chainsaw': {\n          const gasolineIndex = player.items.findIndex(i => i.key === 'gasoline')\n          const chainsawIndex = player.items.findIndex(i => i.key === 'chainsaw')\n          if (gasolineIndex >= 0 && chainsawIndex >= 0) {\n            const gasolineItem = player.items[gasolineIndex]\n            const chainsawItem = player.items[chainsawIndex]\n            if (gasolineItem.useTime > 0) {\n              if (gasolineItem.useTime !== 99) {\n                gasolineItem.useTime--\n              }\n              chainsawItem.useTime !== 99 && (chainsawItem.useTime += 2)\n              eventBus.$emit('notifyMessage', {\n                message: ''\n              })\n              checkItems()\n            }\n          }\n          break\n        }\n        case 'soda': {\n          const sodaIndex = player.items.findIndex(i => i.key === this.selectItem)\n          if (sodaIndex >= 0) {\n            const sodaItem = player.items[sodaIndex]\n            if (sodaItem.useTime > 0) {\n              if (sodaItem.useTime !== 99) {\n                sodaItem.useTime--\n              }\n              player.hp += sodaItem.addHp\n              eventBus.$emit('notifyMessage', {\n                message: `${sodaItem.name}+${sodaItem.addHp}`\n              })\n              checkItems()\n            }\n          }\n          break\n        }\n      }\n    },\n    dealRunAway () {\n      const oilIndex = player.items.findIndex(i => i.key === 'oil')\n      if (this.selectItem === 'oil' && oilIndex >= 0) {\n        const oilItem = player.items[oilIndex]\n        if (oilItem.useTime > 0) {\n          if (oilItem.useTime !== 99) {\n            oilItem.useTime--\n          }\n          eventBus.$emit('notifyMessage', {\n            message: ''\n          })\n          checkItems()\n        }\n      } else {\n        player.hp -= PlayerConfig.runAwayDamage\n        if (!checkAlive()) {\n          eventBus.$emit('notifyMessage', {\n            message: '',\n            confirmBtnText: '',\n            tag: {\n              source: 'restart'\n            }\n          })\n          return\n        }\n      }\n      this.close('runAway')\n    },\n    close (result = 'win') {\n      if (result !== 'restart') {\n        eventBus.$emit('notifyBattleResult', {\n          result,\n          tag: this.tag\n        })\n      }\n      this.isShow = false\n      this.count = 0\n      this.tabIndex = 0\n      this.selectIndex = 0\n      this.selectItem = ''\n      this.disableRunAway = false\n      this.tag = ''\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-happen-battle {\n  position: absolute;\n  z-index: 43;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  .box-message {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 600px;\n    padding: 18px;\n    border: 6px solid red;\n    border-radius: 12px;\n    background: #343434;\n    color: #fff;\n    font-size: 28px;\n    .box-zombies {\n      background: rgb(191, 191, 189);\n      .zombie-image {\n        max-height: 200px;\n      }\n    }\n    .box-tabs {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 24px;\n      .tab {\n        width: 30%;\n        height: 60px;\n        line-height: 60px;\n        background: rgba(205, 175, 0, 0.4);\n        color: #000;\n        border-radius: 6px;\n        text-align: center;\n        transition: all 0.3s;\n        &.active {\n          background: rgba(205, 175, 0, 1);\n          color: #fff;\n        }\n      }\n    }\n    .box-action {\n      margin-top: 12px;\n      padding: 12px;\n      border: 4px solid rgba(205, 175, 0, 1);\n      border-radius: 6px;\n    }\n    .box-item-choice {\n      display: flex;\n      // justify-content: center;\n      align-items: center;\n      margin-left: 30px;\n    }\n    .item-radio {\n      width: 60px;\n      height: 60px;\n    }\n    .item-icon {\n      width: 100px;\n      height: 100px;\n      border: 6px solid transparent;\n      border-radius: 8px;\n      &:not(:last-of-type) {\n        margin-right: 12px;\n      }\n      &.active {\n        border: 6px solid red;\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./HappenBattle.vue?vue&type=template&id=f628a21e&scoped=true\"\nimport script from \"./HappenBattle.vue?vue&type=script&lang=js\"\nexport * from \"./HappenBattle.vue?vue&type=script&lang=js\"\nimport style0 from \"./HappenBattle.vue?vue&type=style&index=0&id=f628a21e&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f628a21e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-happen-battle\"},[_c('div',{staticClass:\"box-message\"},[_c('div',{staticClass:\"text-center box-zombies\"},_vm._l((_vm.count),function(z){return _c('img',{key:z,staticClass:\"zombie-image\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/zombie.jpg\",\"alt\":\"\"}})}),0),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},[_vm._v(\" \"+_vm._s(_vm.count)+\" \")]),_c('div',{staticClass:\"box-tabs\"},[_c('div',{staticClass:\"tab\",class:[_vm.tabIndex === 0 && 'active'],on:{\"click\":function($event){_vm.tabIndex = 0}}},[_vm._v(\"\")]),_c('div',{staticClass:\"tab\",class:[_vm.tabIndex === 1 && 'active'],on:{\"click\":function($event){_vm.tabIndex = 1}}},[_vm._v(\"\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disableRunAway),expression:\"!disableRunAway\"}],staticClass:\"tab\",class:[_vm.tabIndex === 2 && 'active'],on:{\"click\":function($event){_vm.tabIndex = 2}}},[_vm._v(\"\")])]),_c('div',{staticClass:\"box-action\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabIndex === 0),expression:\"tabIndex === 0\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.weapons.length),expression:\"weapons.length\"}]},[_vm._v(\"  \"),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"6px\"}},_vm._l((_vm.weapons),function(w,index){return _c('img',{key:index,staticClass:\"item-icon\",class:[_vm.selectIndex === index && 'active'],attrs:{\"src\":w.image,\"alt\":\"\"},on:{\"click\":function($event){return _vm.handleSelect(index)}}})}),0),_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.player.atk)+\"+\"+_vm._s(_vm.activeWeapon.addAtk)+\" \"+_vm._s(_vm.activeWeapon.useTime === 99 ? '' : _vm.activeWeapon.useTime)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.weapons.length),expression:\"!weapons.length\"}],staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.player.atk)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabIndex === 1),expression:\"tabIndex === 1\"}]},[_c('div',[_vm._v(\"  \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('grenade')),expression:\"player.items.map(i=> i.key).includes('grenade')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'grenade'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'grenade'),expression:\"selectItem !== 'grenade'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'grenade'),expression:\"selectItem === 'grenade'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/grenade.jpg\",\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('candle') && _vm.player.items.map(i=> i.key).includes('oil')),expression:\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('oil')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'candle+oil'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'candle+oil'),expression:\"selectItem !== 'candle+oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'candle+oil'),expression:\"selectItem === 'candle+oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/candle.jpg\",\"alt\":\"\"}}),_vm._v(\" + \"),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/oil.jpg\",\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('candle') && _vm.player.items.map(i=> i.key).includes('gasoline')),expression:\"player.items.map(i=> i.key).includes('candle') && player.items.map(i=> i.key).includes('gasoline')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'candle+gasoline'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'candle+gasoline'),expression:\"selectItem !== 'candle+gasoline'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'candle+gasoline'),expression:\"selectItem === 'candle+gasoline'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/candle.jpg\",\"alt\":\"\"}}),_vm._v(\" + \"),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/gasoline.jpg\",\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('gasoline') && _vm.player.items.map(i=> i.key).includes('chainsaw')),expression:\"player.items.map(i=> i.key).includes('gasoline') && player.items.map(i=> i.key).includes('chainsaw')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'gasoline+chainsaw'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'gasoline+chainsaw'),expression:\"selectItem !== 'gasoline+chainsaw'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'gasoline+chainsaw'),expression:\"selectItem === 'gasoline+chainsaw'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/gasoline.jpg\",\"alt\":\"\"}}),_vm._v(\" + \"),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/chainsaw.jpg\",\"alt\":\"\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('soda')),expression:\"player.items.map(i=> i.key).includes('soda')\"}],staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem = 'soda'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'soda'),expression:\"selectItem !== 'soda'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'soda'),expression:\"selectItem === 'soda'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/soda.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.useItemDesc)+\" \")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabIndex === 2),expression:\"tabIndex === 2\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player.items.map(i=> i.key).includes('oil')),expression:\"player.items.map(i=> i.key).includes('oil')\"}]},[_vm._v(\"  \"),_c('div',{staticClass:\"text-center box-item-choice\",staticStyle:{\"margin-top\":\"6px\"},on:{\"click\":function($event){_vm.selectItem === 'oil' ? _vm.selectItem = '' : _vm.selectItem = 'oil'}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem !== 'oil'),expression:\"selectItem !== 'oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_blank_circle.svg\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectItem === 'oil'),expression:\"selectItem === 'oil'\"}],staticClass:\"item-radio\",attrs:{\"src\":require(\"@/assets/icon_checkbox_circle_fill.svg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"item-icon\",attrs:{\"src\":\"https://gitee.com/youngbeen/zombies-in-my-pocket/raw/master/src/assets/oil.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.ItemConfig.items.find(i => i.key === 'oil').desc)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.player.items.map(i=> i.key).includes('oil')),expression:\"!player.items.map(i=> i.key).includes('oil')\"}],staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.PlayerConfig.runAwayDamage)+\" \")])])]),_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-top\":\"12px\"}},[_c('button',{staticClass:\"primary-button\",on:{\"click\":function($event){return _vm.handleConfirm()}}},[_vm._v(\"\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"pop-map\"\n    v-show=\"isShow\">\n    <div class=\"box-map\">\n      <canvas id=\"map-canvas\" :width=\"width\" :height=\"height\"></canvas>\n    </div>\n    <div class=\"box-actions\">\n      <div class=\"icon-button\"\n        @click=\"handleZoom(0.25)\">\n        <img class=\"icon\" src=\"@/assets/icon_zoom_in.svg\" alt=\"\">\n      </div>\n      <div class=\"icon-button\"\n        @click=\"handleZoom(-0.25)\">\n        <img class=\"icon\" src=\"@/assets/icon_zoom_out.svg\" alt=\"\">\n      </div>\n      <div class=\"icon-button\"\n        @click=\"handleClose()\">\n        <img class=\"icon\" src=\"@/assets/icon_close.svg\" alt=\"\">\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport player from '@/models/Player'\nimport system from '@/models/system'\n\nconst MinCanvasSize = 360 // min width and height of canvas\nconst RoomSize = 20\nconst RoomGap = 5\nconst DoorSize = 10\nconst MinRatio = 1.5\nconst MaxRatio = 3\nconst FontSize = 8\n\nexport default {\n  data () {\n    return {\n      isShow: false,\n      width: MinCanvasSize,\n      height: MinCanvasSize,\n      ratio: MinRatio,\n      canvas: null,\n      ctx: null\n    }\n  },\n\n  mounted () {\n    this.canvas = document.querySelector('#map-canvas')\n    this.ctx = this.canvas.getContext('2d')\n\n    eventBus.$on('notifyShowMap', () => {\n      this.showMap()\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyShowMap')\n  },\n\n  methods: {\n    showMap () {\n      this.isShow = true\n      this.drawMap()\n    },\n    drawMap () {\n      const data = [...system.map]\n      const coordX = [...new Set(data.map(r => r.x))]\n      const coordY = [...new Set(data.map(r => r.y))]\n      const startX = Math.min(...coordX)\n      const endX = Math.max(...coordX)\n      const startY = Math.min(...coordY)\n      const endY = Math.max(...coordY)\n      const columns = endX - startX + 1\n      const rows = endY - startY + 1\n      const mapSize = {\n        width: columns * (RoomSize + RoomGap) * this.ratio,\n        height: rows * (RoomSize + RoomGap) * this.ratio\n      }\n      let canvasStartX = 0\n      let canvasStartY = 0\n      if (mapSize.width > MinCanvasSize) {\n        this.width = mapSize.width\n        canvasStartX = 0\n      } else {\n        canvasStartX = (MinCanvasSize - mapSize.width) / 2\n      }\n      if (mapSize.height > MinCanvasSize) {\n        this.height = mapSize.height\n        canvasStartY = 0\n      } else {\n        canvasStartY = (MinCanvasSize - mapSize.height) / 2\n      }\n      // console.log(coordX, coordY)\n      // console.log(startX, endX, startY, endY)\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n      data.forEach(r => {\n        // draw room cell\n        this.ctx.fillStyle = 'red'\n        this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio, RoomSize * this.ratio, RoomSize * this.ratio)\n        // draw room entrances\n        this.ctx.fillStyle = 'white'\n        r.doors.forEach(d => {\n          const realDoorIndex = (d + r.rotate / 90) % 4\n          switch (realDoorIndex) {\n            case 0:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio, DoorSize * this.ratio, 3)\n              break\n            case 1:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + RoomSize * this.ratio - 3, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, 3, DoorSize * this.ratio)\n              break\n            case 2:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + RoomSize * this.ratio - 3, DoorSize * this.ratio, 3)\n              break\n            case 3:\n              this.ctx.fillRect(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + (RoomSize - DoorSize) / 2 * this.ratio, 3, DoorSize * this.ratio)\n              break\n          }\n        })\n        // draw now location or room name\n        if (player.x === r.x && player.y === r.y) {\n          this.ctx.fillStyle = 'gold'\n          this.ctx.beginPath()\n          this.ctx.arc(canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + RoomSize / 2 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + RoomSize / 2 * this.ratio, RoomSize / 4 * this.ratio, 0, 2 * Math.PI)\n          this.ctx.fill()\n          this.ctx.closePath()\n        } else if (['foyer', 'kitchen', 'storage', 'evilTemple', 'garden', 'graveyard'].includes(r.key)) {\n          this.ctx.fillStyle = 'white'\n          this.ctx.font = `${FontSize * this.ratio}px serif`\n          this.ctx.fillText(r.name[0], canvasStartX + (r.x - startX) * (RoomSize + RoomGap) * this.ratio + RoomSize / 4 * this.ratio, canvasStartY + (r.y - startY) * (RoomSize + RoomGap) * this.ratio + RoomSize / 4 * this.ratio + FontSize * this.ratio, RoomSize / 2 * this.ratio)\n        }\n      })\n    },\n    handleZoom (ratio) {\n      if (this.ratio + ratio <= MaxRatio && this.ratio + ratio >= MinRatio) {\n        this.ratio += ratio\n        // console.log('ratio now is ', this.ratio)\n        this.drawMap()\n      }\n    },\n    handleClose () {\n      this.isShow = false\n      this.width = MinCanvasSize\n      this.height = MinCanvasSize\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.pop-map {\n  position: absolute;\n  z-index: 45;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.9);\n  .box-map {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 720px;\n    height: 720px;\n    transform: translate(-50%, -50%);\n    border: 4px solid gray;\n    overflow: auto;\n  }\n  .box-actions {\n    display: flex;\n    justify-content: space-between;\n    align-items: end;\n    position: fixed;\n    z-index: 46;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    padding: 24px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapPop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapPop.vue?vue&type=script&lang=js\"","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","<template>\n  <section class=\"page-home\">\n    <start-pop></start-pop>\n\n    <top-panel></top-panel>\n\n    <!-- handle main display -->\n    <main-container\n      :room-data=\"displayedRooms\"></main-container>\n\n    <!-- handle actions -->\n    <action-container\n      :room-data=\"displayedRooms[4]\"></action-container>\n\n    <bottom-panel></bottom-panel>\n\n    <message-pop></message-pop>\n\n    <happen-battle-pop></happen-battle-pop>\n\n    <map-pop></map-pop>\n  </section>\n</template>\n\n<script>\nimport eventBus from '@/EventBus'\nimport SystemConfig from '@/models/config/System'\nimport RoomConfig from '@/models/config/Room'\nimport PlayerConfig from '@/models/config/Player'\nimport ItemConfig from '@/models/config/Item'\nimport EventConfig from '@/models/config/Event'\nimport system from '@/models/system'\nimport player from '@/models/Player'\nimport { shuffle } from '@/utils/CommonUtil'\nimport StartPop from '@/components/StartPop'\nimport TopPanel from '@/components/TopPanel'\nimport MainContainer from '@/components/MainContainer'\nimport ActionContainer from '@/components/ActionContainer'\nimport BottomPanel from '@/components/BottomPanel'\nimport MessagePop from '@/components/MessagePop'\nimport HappenBattlePop from '@/components/HappenBattle'\nimport MapPop from '@/components/MapPop'\n\nexport default {\n  components: {\n    StartPop,\n    TopPanel,\n    MainContainer,\n    ActionContainer,\n    BottomPanel,\n    MessagePop,\n    HappenBattlePop,\n    MapPop\n  },\n\n  data () {\n    return {\n      displayedRooms: [\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 }\n      ]\n    }\n  },\n\n  mounted () {\n    eventBus.$on('notifyStart', () => {\n      this.start()\n    })\n    eventBus.$on('notifyRedraw', () => {\n      this.draw()\n    })\n    eventBus.$on('notifyShuffleEvents', () => {\n      this.shuffleEvents()\n    })\n  },\n\n  beforeDestroy () {\n    eventBus.$off('notifyStart')\n    eventBus.$off('notifyRedraw')\n    eventBus.$off('notifyShuffleEvents')\n  },\n\n  methods: {\n    start () {\n      this.initData()\n      this.draw()\n    },\n    initData () {\n      system.time = 0\n      system.events = []\n      system.indoors = []\n      system.outdoors = []\n      system.map = []\n      player.hp = PlayerConfig.baseHp\n      player.atk = PlayerConfig.baseAtk\n      player.x = 0\n      player.y = 0\n      player.gotTotem = false\n      player.buriedTotem = false\n      player.items = []\n      if (player.character === 'backpacker') {\n        player.maxItems = PlayerConfig.maxItems + PlayerConfig.backpackerExtraItems\n        player.items.push(ItemConfig.items.find(i => i.key === 'candle'))\n      } else {\n        player.maxItems = PlayerConfig.maxItems\n      }\n      if (player.character === 'sportgirl') {\n        player.items.push(ItemConfig.items.find(i => i.key === 'soda'))\n      } else if (player.character === 'oldman') {\n        player.items.push(ItemConfig.items.find(i => i.key === 'gasoline'))\n      } else if (player.character === 'soldier') {\n        player.items.push(ItemConfig.items.find(i => i.key === 'grenade'))\n      }\n      // console.log('player', player)\n      this.initRooms()\n      this.shuffleEvents(true)\n    },\n    initRooms () {\n      const toShuffleIndoors = []\n      RoomConfig.indoors.forEach(r => {\n        if (r.key === 'foyer') {\n          system.map.push({\n            ...r,\n            rotate: 0,\n            x: 0,\n            y: 0,\n            where: 'indoor'\n          })\n        } else {\n          toShuffleIndoors.push({\n            ...r,\n            where: 'indoor'\n          })\n        }\n      })\n      system.indoors = shuffle(toShuffleIndoors)\n      // console.log(system)\n    },\n    shuffleEvents (stopTimePass = false) {\n      if (!stopTimePass) {\n        system.time++\n        if (system.time >= SystemConfig.endTime) {\n          eventBus.$emit('notifyMessage', {\n            message: '12',\n            confirmBtnText: '',\n            tag: {\n              source: 'restart'\n            }\n          })\n          return\n        }\n      }\n      const toShuffleEvents = EventConfig.events.map(e => e)\n      system.events = shuffle(toShuffleEvents)\n      system.events.pop() // discard the first event\n      if (player.character !== 'sportgirl') {\n        // sport girl moves faster, keep 1 more available event\n        system.events.pop() // discard event again\n      }\n      // console.log(system)\n    },\n    draw () {\n      this.drawRooms()\n    },\n    drawRooms () {\n      this.displayedRooms = [\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 },\n        { image: '', rotate: 0 }\n      ]\n      system.map.forEach(r => {\n        if (r.x === player.x - 1 && r.y === player.y - 1) {\n          this.$set(this.displayedRooms, 0, { ...r })\n        } else if (r.x === player.x && r.y === player.y - 1) {\n          this.$set(this.displayedRooms, 1, { ...r })\n        } else if (r.x === player.x + 1 && r.y === player.y - 1) {\n          this.$set(this.displayedRooms, 2, { ...r })\n        } else if (r.x === player.x - 1 && r.y === player.y) {\n          this.$set(this.displayedRooms, 3, { ...r })\n        } else if (r.x === player.x && r.y === player.y) {\n          this.$set(this.displayedRooms, 4, { ...r })\n        } else if (r.x === player.x + 1 && r.y === player.y) {\n          this.$set(this.displayedRooms, 5, { ...r })\n        } else if (r.x === player.x - 1 && r.y === player.y + 1) {\n          this.$set(this.displayedRooms, 6, { ...r })\n        } else if (r.x === player.x && r.y === player.y + 1) {\n          this.$set(this.displayedRooms, 7, { ...r })\n        } else if (r.x === player.x + 1 && r.y === player.y + 1) {\n          this.$set(this.displayedRooms, 8, { ...r })\n        }\n      })\n      // console.log(this.displayedRooms)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.page-home {\n  position: relative;\n}\n</style>\n","import { render, staticRenderFns } from \"./MapPop.vue?vue&type=template&id=9edfb2e0&scoped=true\"\nimport script from \"./MapPop.vue?vue&type=script&lang=js\"\nexport * from \"./MapPop.vue?vue&type=script&lang=js\"\nimport style0 from \"./MapPop.vue?vue&type=style&index=0&id=9edfb2e0&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9edfb2e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"pop-map\"},[_c('div',{staticClass:\"box-map\"},[_c('canvas',{attrs:{\"id\":\"map-canvas\",\"width\":_vm.width,\"height\":_vm.height}})]),_c('div',{staticClass:\"box-actions\"},[_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleZoom(0.25)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_zoom_in.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleZoom(-0.25)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_zoom_out.svg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"icon-button\",on:{\"click\":function($event){return _vm.handleClose()}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon_close.svg\"),\"alt\":\"\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=41b5c19a&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=41b5c19a&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41b5c19a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"page-home\"},[_c('start-pop'),_c('top-panel'),_c('main-container',{attrs:{\"room-data\":_vm.displayedRooms}}),_c('action-container',{attrs:{\"room-data\":_vm.displayedRooms[4]}}),_c('bottom-panel'),_c('message-pop'),_c('happen-battle-pop'),_c('map-pop')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/home'\n    },\n    {\n      path: '/home',\n      name: 'home',\n      component: Home\n    }\n    // {\n    //   path: '/about',\n    //   name: 'about',\n    //   component: () => import(/* webpackChunkName: \"about\" */ './views/About.vue')\n    // }\n  ]\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nrequire('./assets/css/base.css')\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/zimp/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkzimp_h5\"] = self[\"webpackChunkzimp_h5\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1587); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","components","created","_c","this","_self","attrs","Vue","indoors","key","name","image","doors","outDoor","desc","addHp","outdoors","baseAtk","baseHp","maxHp","Number","POSITIVE_INFINITY","maxDamage","runAwayDamage","maxItems","backpackerExtraItems","sportgirlReduceDiscardEvents","items","type","addAtk","useTime","discardCount","events","timeEvents","zombies","item","sysName","time","map","character","hp","atk","x","y","gotTotem","buriedTotem","shuffle","toShuffle","toShuffleArray","JSON","parse","stringify","randomIndexs","numberUtil","multiRandom","length","result","forEach","index","push","PlayerMap","characterDescMap","data","isShow","selectedPlayer","computed","characterDesc","mounted","eventBus","$on","action","tag","source","beforeDestroy","$off","methods","togglePlayer","val","start","player","$emit","_vm","directives","rawName","value","expression","staticClass","_m","_v","_s","class","on","$event","staticStyle","clockMap","system","nowClock","charMap","backpacker","sportgirl","oldman","soldier","props","roomData","Array","required","playerChar","rotate","checkAlive","checkWinGame","checkItems","splice","hasValidEntrance","hasFlag","r","realDoorIndex","i","findIndex","tr","includes","Object","isRotateNewRoomShow","rotateDeg","newRoom","isRunAwayShow","runAwayRooms","newLocation","where","phase","postEvent","dealBreakIn","dealRoomStory","newItem","visitedRooms","getVisitedRooms","count","upRoom","find","downRoom","leftRoom","rightRoom","up","down","left","right","dealRunAway","message","confirmBtnText","enter","doorIndex","headToLocation","getHeadToLocation","from","rotateIndexChange","toShuffleOutdoors","patio","RoomConfig","dealNewRoom","pop","room","location","confirmRotate","dealEvent","dealItem","dealSpecialEvent","dealFetchTotem","dealFinishGame","toDealEvent","cancelBtnText","stayedRoom","dealFinalEvent","disableRunAway","isSpecialItem","event","toDealItem","ItemConfig","icons","dealDropItem","selectable","breakInIndex","getBreakInEntrance","currentRoom","currentRoomIndex","newRoomData","SystemConfig","_e","require","dealCower","cowerRecover","handleUseItem","chainsawIndex","chainsawItem","handleCower","recoverHp","handleOpenMap","_l","msgQueue","content","selectIndex","params","showMessage","handleSelect","handleConfirm","close","handleCancel","shift","icon","tabIndex","selectItem","PlayerConfig","weapons","filter","activeWeapon","useItemDesc","happenBattle","dealBattle","dealUseItem","weaponAtk","finalAtk","damage","targetIndex","candleIndex","oilIndex","candleItem","oilItem","gasolineIndex","gasolineItem","sodaIndex","sodaItem","z","w","MinCanvasSize","RoomSize","DoorSize","width","height","ratio","canvas","ctx","document","querySelector","getContext","showMap","drawMap","coordX","Set","coordY","startX","Math","min","endX","max","startY","rows","mapSize","canvasStartX","canvasStartY","clearRect","fillStyle","fillRect","d","beginPath","arc","PI","fill","closePath","font","fillText","handleZoom","handleClose","StartPop","TopPanel","MainContainer","ActionContainer","BottomPanel","MessagePop","HappenBattlePop","MapPop","displayedRooms","draw","shuffleEvents","initData","initRooms","toShuffleIndoors","stopTimePass","toShuffleEvents","EventConfig","e","drawRooms","$set","use","Router","routes","path","redirect","component","Home","config","productionTip","router","render","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}